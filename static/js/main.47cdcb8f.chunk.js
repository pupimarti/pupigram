(this.webpackJsonppupigram=this.webpackJsonppupigram||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/verify.c884f427.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/heart-selected.f2610513.svg"},function(e,t,a){e.exports=a.p+"static/media/account.71672f0b.svg"},,,,,,,,,,function(e,t){e.exports="data:image/png;base64,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"},,,,,function(e,t,a){e.exports=a.p+"static/media/heart.7746f5e4.svg"},,function(e,t,a){e.exports=a.p+"static/media/chat.0ec68f32.svg"},,,,,function(e,t,a){e.exports=a.p+"static/media/direct.c26fe294.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('[{"user":"default","visualized":false,"notif":[{"user":"pupi_marti","type":"follow","time":"Sun May 17 2020 20:52:41 GMT-0300"},{"user":"leomessi","type":"follow","time":"Sun May 13 2020 20:52:41 GMT-0300"},{"user":"thisisbillgates","type":"follow","time":"Sun May 12 2020 20:52:41 GMT-0300"}]}]')},function(e){e.exports=JSON.parse('[{"id":0,"user":"martin_senz","img":["https://images.pexels.com/photos/1236701/pexels-photo-1236701.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260"],"desc":"\ud83d\ude0c","likes":["pupi_marti"],"time":"May 15 2020 23:02:41 GMT-0300","comments":[]},{"id":1,"user":"leomessi","img":["https://instagram.faep9-2.fna.fbcdn.net/v/t51.2885-15/e35/s1080x1080/97224873_2574005789532347_6410171067199274127_n.jpg?_nc_ht=instagram.faep9-2.fna.fbcdn.net&_nc_cat=1&_nc_ohc=40aYUjWqJbIAX81TPuh&oh=1dae298d7a85f55507c8870b339fb909&oe=5EEF63FE","https://instagram.faep9-2.fna.fbcdn.net/v/t51.2885-15/e35/s1080x1080/96420292_237733894341992_3624935907676650423_n.jpg?_nc_ht=instagram.faep9-2.fna.fbcdn.net&_nc_cat=1&_nc_ohc=g1RhGQIkFowAX-YjllO&oh=b37057d4e9a23aa8c9f3ddc1e6f9dcda&oe=5EED8A5E","https://instagram.faep9-2.fna.fbcdn.net/v/t51.2885-15/e35/s1080x1080/97319159_179428793308288_6167078711340333356_n.jpg?_nc_ht=instagram.faep9-2.fna.fbcdn.net&_nc_cat=1&_nc_ohc=lu7pzCMb-YQAX_7gz0h&oh=24b84621d10ee31ff89a053bbe1660ad&oe=5EEE9DE6"],"desc":"\u26bd\ufe0f\ud83d\udd19\u26bd\ufe0f","likes":["thisisbillgates"],"time":"May 16 2020 20:52:41 GMT-0300","comments":[]},{"id":2,"user":"thisisbillgates","img":["https://instagram.faep9-1.fna.fbcdn.net/v/t51.2885-15/e35/20688066_349871685449847_7007046067464175616_n.jpg?_nc_ht=instagram.faep9-1.fna.fbcdn.net&_nc_cat=103&_nc_ohc=tQH_P8Gu9fsAX_1P_fD&oh=833c4a033b9fd815422ebd8e8b719c96&oe=5EED3102","https://instagram.faep9-1.fna.fbcdn.net/v/t51.2885-15/e35/20759171_2195239964036030_179706422416637952_n.jpg?_nc_ht=instagram.faep9-1.fna.fbcdn.net&_nc_cat=102&_nc_ohc=HPWjwPzVp_wAX_xczfQ&oh=6a1eb85d043d9f2ac0a7d58daa6af1b3&oe=5EEE511C"],"desc":"Hello from Tanzania, Instagram! I just had a great lunch with some amazing kids at Kicheba Primary School in Muheza and met Upendo Mwingira, a remarkable physician who has dedicated her career to fighting neglected tropical diseases. Melinda and I have been coming to Tanzania for many years now. I always love seeing how much progress the country has made to improve health and provide opportunity. Plus, the scenery is stunning. Whenever I travel to places like this, I wish others could come along and meet the people I get to meet. I have no doubt it would leave them as optimistic as I am about progress happening around the world. I\u2019ll be sharing photos from my adventures here on Instagram, and I hope you\u2019ll follow along.","likes":["leomessi","default"],"time":"May 17 2020 23:02:41 GMT-0300","comments":[{"user":"leomessi","comment":"Hi Bill!","time":"Sun May 17 2020 23:52:41 GMT-0300"}]},{"id":3,"user":"samantha","img":["https://cdn.pixabay.com/photo/2014/12/16/22/25/youth-570881_960_720.jpg","https://cdn.pixabay.com/photo/2017/07/31/21/04/people-2561053_960_720.jpg"],"desc":"\ud83d\ude00\ud83d\ude00","likes":["pupi_marti"],"time":" May 18 2020 23:02:41 GMT-0300","comments":[]},{"id":4,"user":"default","img":["https://i.ibb.co/p1ftX9s/logo.jpg"],"desc":"Hola pupigram!","likes":["leomessi","thisisbillgates","pupi_marti","samantha","martin_senz"],"time":"May 19 2020 20:00:00 GMT-0300","comments":[{"user":"leomessi","comment":"Bienvenido!","time":"Sun May 19 2020 23:52:41 GMT-0300"},{"user":"thisisbillgates","comment":"Welcome.","time":"Sun May 19 2020 23:52:41 GMT-0300"}]}]')},function(e){e.exports=JSON.parse('[{"user":"default","directs":[{"user":"pupi_marti","read":false,"messages":[{"message":"\xa1Bienvenido! Te comento que todo visitante entra con la cuenta \'default\' para facilitar la visita a la web. Podes cambiar los colores entre modo oscuro o claro, responder mensajes, comentar/dar me gusta a publicaciones, vistar perfiles, seguir o dejar de seguir usuarios y hacer publicaciones!","time":"Sun May 17 2020 23:52:41 GMT-0300"},{"message":"\xa1Gracias por visitar Pupigram!","time":"Sun May 17 2020 23:52:41 GMT-0300"}]},{"user":"leomessi","read":false,"messages":[{"message":"Bienvenido!!","time":"Sun May 10 2020 23:52:41 GMT-0300"}]}]}]')},function(e,t,a){e.exports=a.p+"static/media/home.6f087f95.svg"},function(e,t,a){e.exports=a.p+"static/media/home-select.8b41ca2e.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/search.c4127766.svg"},function(e,t,a){e.exports=a.p+"static/media/add.c817e915.svg"},function(e,t,a){e.exports=a.p+"static/media/direct-select.382f1e7d.svg"},,function(e,t,a){e.exports=a.p+"static/media/posts.98f1578e.svg"},function(e,t,a){e.exports=a.p+"static/media/newmessage.2927f8de.svg"},function(e,t,a){e.exports=a.p+"static/media/default.a04d849c.jpg"},,,,,,,,,function(e,t,a){e.exports=a(176)},,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),s=a.n(c),o=a(7),i=a.n(o),l=a(43),u={apiKey:"AIzaSyAhWJ6CzJL3kLcJvZB2nsN-aodarnn7iFc",authDomain:"pupigram.firebaseapp.com",databaseURL:"https://pupigram.firebaseio.com",projectId:"pupigram",storageBucket:"pupigram.appspot.com",messagingSenderId:"1045620088441",appId:"1:1045620088441:web:b5a23d41d8147f503a3ea8",measurementId:"G-4EG95KM5H2"},m=a(4),p=a(72),f=a(73),d=a(74),b=r.a.createContext({});function h(e){var t=e.children,a=Object(n.useState)(null),c=Object(m.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(p),l=Object(m.a)(i,2),u=l[0],h=l[1],g=Object(n.useState)(f),v=Object(m.a)(g,2),E=v[0],N=v[1],w=Object(n.useState)(d),x=Object(m.a)(w,2),j=x[0],k=x[1];return r.a.createElement(b.Provider,{value:{profile:s,setProfile:o,notifs:u,setNotifs:h,posts:E,setPosts:N,directs:j,setDirects:k}},t)}var g=b,v=(a(102),a(2)),E=a.n(v),N=a(12),w=a(3),x=a(30),j=a.n(x),k=a(75),O=a.n(k),y=a(76),S=a.n(y),C=a(35),A=a.n(C),I=a(19),D=a.n(I),M=a(5),R=a(20),G=a.n(R),P=a(182);a(104),a(105);function F(e){return r.a.createElement("div",{className:function(){var t="content-loading";return e.allpage&&(t+=" content-loading-allpage"),e.dark&&(t+=" dark-loading"),t}()},r.a.createElement("div",{className:"loadingio-spinner-spinner-0weqdade60oe"},r.a.createElement("div",{className:"ldio-wghgll2tit8"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))}a(14);function _(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e===a)return!0;var c=i.a.firestore(),s=null,o={user_send:a,type:t,time:i.a.firestore.Timestamp.fromDate(new Date)};return n&&(o.post=n),r&&(o.comment=r),c.collection("notif").doc(e).update({notifs:i.a.firestore.FieldValue.arrayUnion(o),visualized:!1}).then((function(){return s=!0})).catch((function(e){return console.log(e)})),s}function V(e,t){return U.apply(this,arguments)}function U(){return(U=Object(w.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.a.firestore(),r=null,e.prev=2,e.next=5,n.collection("users").doc(t).update({follows:i.a.firestore.FieldValue.arrayUnion(a)});case 5:return e.next=7,n.collection("users").doc(a).update({followers:i.a.firestore.FieldValue.arrayUnion(t)});case 7:_(a,"follow",t),r=!0,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),r=!1,console.log("Error getting documents: ",e.t0);case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function J(e,t){return T.apply(this,arguments)}function T(){return(T=Object(w.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.a.firestore(),r=null,e.prev=2,e.next=5,n.collection("users").doc(t).update({follows:i.a.firestore.FieldValue.arrayRemove(a)});case 5:return e.next=7,n.collection("users").doc(a).update({followers:i.a.firestore.FieldValue.arrayRemove(t)});case 7:r=!0,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),r=!1,console.log("Error getting documents: ",e.t0);case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function L(e){return z.apply(this,arguments)}function z(){return(z=Object(w.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.a.firestore(),n=null,e.next=4,a.collection("users").doc(t).get().then((function(e){if(e.exists){var t=e.data();t.user=e.id,n=t}else n=null})).catch((function(e){console.log("Error getting documents: ",e),n=null}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){null===c&&function(){var t=Object(w.a)(E.a.mark((function t(){var a,n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e.user);case 2:if(a=t.sent,n=!1,a.follows.length>0)for(r=0;r<a.follows.length;r++)a.follows[r]===e.user_follow&&(n=!0);s(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e,c]);var o=function(){var t=Object(w.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,n=c,s("loading"),n){t.next=9;break}return t.next=6,V(e.user,e.user_follow);case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,J(e.user,e.user_follow);case 11:a=t.sent;case 12:a&&(e.setFollowers&&e.setFollowers(!n),s(!n));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e.user_follow===e.user?null:null===c||"loading"===c?r.a.createElement("button",{className:"button unfollow"},r.a.createElement(F,null)):!0===c?r.a.createElement("button",{onClick:o,className:"button unfollow no-select"},"Siguiendo"):r.a.createElement("button",{onClick:o,className:"button follow no-select"},"Seguir")}a(106),a(41);function Y(e){return H.apply(this,arguments)}function H(){return(H=Object(w.a)(E.a.mark((function e(t){var a,n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,n=localStorage.getItem("img_users"),(r=JSON.parse(n))&&r.forEach((function(e){e.user!==t||(a=e.url)})),a){e.next=8;break}return c=i.a.storage(),e.next=8,c.ref("users/"+t).getDownloadURL().then((function(e){var n={user:t,url:e},r=localStorage.getItem("img_users"),c=JSON.parse(r);c||(c=[]),c.push(n),localStorage.setItem("img_users",JSON.stringify(c)),a=e})).catch((function(e){console.log("No se pudo encontrar la imagen de perfil de ",t),console.log(e),a=null}));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){var t=localStorage.getItem("img_users"),a=[],n=JSON.parse(t);n&&(n.forEach((function(t){t.user!==e&&a.push(t)})),localStorage.setItem("img_users",JSON.stringify(a)))}function X(e){var t=Object(n.useContext)(g).profile,a=Object(n.useState)(null),c=Object(m.a)(a,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){s||function(){var t=Object(w.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e.user);case 2:a=t.sent,o(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.user,s,o]),r.a.createElement("div",{className:"content-notification"},r.a.createElement("div",{className:"notif"},r.a.createElement(M.b,{to:"/"+e.user,className:"content-img-username"},s?r.a.createElement("img",{className:"img-account",src:s,alt:"profile_picture",onError:function(){return W(e.user)}}):r.a.createElement("img",{className:"default-img",src:G.a,alt:"profile_picture"})),r.a.createElement("p",{className:"user-account"},"like"===e.type&&r.a.createElement("span",{className:"msj-notif"},"A "),r.a.createElement(M.b,{to:"/"+e.user},e.user)," ",r.a.createElement("span",{className:"msj-notif"},function(){switch(e.type){case"follow":return"ha comenzado a seguirte.";case"like":return"le ha gustado tu foto.";case"comment":return"ha comentado: "+e.comment;case"name":return"";default:return"no se ha detectado el tipo de notificaci\xf3n."}}()),r.a.createElement("span",{className:"time-notif"}," ",e.time&&r.a.createElement(P.a,{date:new Date(e.time),timeStyle:"twitter",locale:"es"})))),"like"===e.type||"comment"===e.type?r.a.createElement(M.b,{to:"/posts/"+e.post},r.a.createElement("img",{src:e.img,className:"img-notification",alt:"imagen de la publicacion"})):r.a.createElement(B,{user:t.user,user_follow:e.user}))}function Z(e){return q.apply(this,arguments)}function q(){return(q=Object(w.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=i.a.firestore(),e.next=4,n.collection("notif").doc(t).get().then((function(e){if(e.exists){var r=e.data();r.notifs.reverse(),r.vizualized=!0,a=r,n.collection("notif").doc(t).update({visualized:!0})}else console.log("no existe el usuario"),a=null})).catch((function(e){console.log(e),a=null}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(111);var Q=a(9);function K(e){return $.apply(this,arguments)}function $(){return($=Object(w.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.a.storage(),n=null,e.next=4,a.ref("posts/"+t).child("0").getDownloadURL().then((function(e){n=e})).catch((function(e){console.log("no se encontraron las imagenes del post"),console.log(e),n=null}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){var t=Object(n.useContext)(g),a=t.notifs,c=t.setNotifs,s=Object(n.useState)(!1),o=Object(m.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)(null),p=Object(m.a)(u,2),f=p[0],d=p[1],b=e.user;return Object(n.useEffect)((function(){function e(e,a){return t.apply(this,arguments)}function t(){return(t=Object(w.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,a(t[n],n,t);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"loading"===f&&function(){var t=Object(w.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(b);case 2:if(!(a=t.sent)){t.next=6;break}return t.next=6,e(a.notifs,function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("like"!==t.type&&"comment"!==t.type){e.next=4;break}return e.next=3,K(t.post);case 3:t.img=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:d(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[f,b]),r.a.createElement("div",{className:"content-heart"},"/notifications"===e.path?r.a.createElement("img",{className:"icon mobile notif-select",src:D.a,alt:"Notifications"}):r.a.createElement(M.b,{to:"/notifications",className:"mobile"},r.a.createElement("img",{className:"icon mobile",src:A.a,alt:"Notifications"}),f&&!f.visualized&&r.a.createElement("div",{className:"notif-alert"})),r.a.createElement("img",{className:i?"notif-select icon pc":"icon pc",onClick:function(){!function(e,t,a,n){var r,c=a,s=Object(Q.a)(c);try{for(s.s();!(r=s.n()).done;){var o=r.value;if(o===e)return o.visualized=t,n(c),!0}}catch(i){s.e(i)}finally{s.f()}}(f,!0,a,c),d("loading"),l(!i)},src:i?D.a:A.a,alt:"Notif"}),f&&!f.visualized&&r.a.createElement("div",{className:"notif-alert pc"}),i&&r.a.createElement("div",{className:"notif-triangulo"}),i&&r.a.createElement("div",{className:"content-notif pc"},"loading"===f?r.a.createElement(F,null):f&&f.notifs.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},t>0&&r.a.createElement("div",{className:"divisor-notif"}),r.a.createElement(X,{type:e.type,time:e.time.toDate(),post:e.post,comment:e.comment,img:e.img,user:e.user_send}))}))))}var te=a(80),ae=a.n(te),ne=a(81),re=a.n(ne),ce=a(42),se=a.n(ce),oe=a(82),ie=a.n(oe);a(112);function le(e){var t=function(e,t){var a,n=0,r=Object(Q.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(c.user===e){var s,o=Object(Q.a)(c.directs);try{for(o.s();!(s=o.n()).done;){s.value.read||n++}}catch(i){o.e(i)}finally{o.f()}return n}}}catch(i){r.e(i)}finally{r.f()}return 0}("default",Object(n.useContext)(g).directs);return r.a.createElement("div",{className:e.pc?"content-icon-direct pc":"content-icon-direct mobile"},t>0&&e.path!==e.pathDirect&&r.a.createElement(M.b,{to:e.pathDirect,className:"icon-direct-unreads"},t),e.path===e.pathDirect?r.a.createElement("img",{className:"icon",src:ie.a,alt:"Direct"}):r.a.createElement(M.b,{to:e.pathDirect},r.a.createElement("img",{className:"icon",src:se.a,alt:"Direct"})))}a(113);function ue(e){var t=e.path,a=Object(n.useContext)(g).profile;if("/directs"===t.substr(0,8)&&window.innerWidth<=800)return null;var c=e.pathHome,s=e.pathDirect,o=e.pathSearch,i="/"+a.user;return r.a.createElement("div",{className:"content-buttons"},t===c?r.a.createElement("img",{className:"icon",src:S.a,alt:"Home"}):r.a.createElement(M.b,{to:c},r.a.createElement("img",{className:"icon",src:O.a,alt:"Home"})),r.a.createElement(le,{pc:!0,path:t,pathDirect:s}),r.a.createElement(M.b,{to:o},r.a.createElement("img",{className:"icon mobile",src:ae.a,alt:"Search"})),r.a.createElement("label",{htmlFor:"file-upload"},r.a.createElement("img",{className:"icon",src:re.a,alt:"Add"})),r.a.createElement("input",{type:"file",id:"file-upload",multiple:!0,className:"invisible",onChange:function(t){for(var a=[],n=0;n<t.target.files.length;n++)a.push(t.target.files[n]);e.setImg(a)},accept:"image/x-png,image/gif,image/jpeg"}),r.a.createElement(ee,{user:a.user,path:t}),r.a.createElement(M.b,{to:i},r.a.createElement("img",{className:"icon-account",src:a.picture,onError:function(){return W(a.user)},alt:"Cuenta"})))}a(114);function me(e){return r.a.createElement("button",{className:"switch-mode",onClick:e.setMode},r.a.createElement("span",{role:"img",className:"moon","aria-label":"crescent moon"},"\ud83c\udf19"),r.a.createElement("span",{role:"img",className:"sun","aria-label":"sun with face"},"\ud83c\udf1e"))}var pe=a(24);a(115);function fe(e){var t=Object(pe.g)().pathname;if("/comments"===t.substr(0,9))return null;return r.a.createElement("div",{className:"content-navBar"},r.a.createElement("div",{className:"content-app navbar no-select"},r.a.createElement(le,{path:t,pathDirect:"/directs"}),r.a.createElement(M.b,{to:"/",className:"c-logo"},r.a.createElement("img",{className:"logo",src:j.a,alt:"logo"})),r.a.createElement(me,{setMode:e.setMode}),r.a.createElement(ue,{path:t,pathHome:"/",pathDirect:"/directs",pathSearch:"/search",pathExplore:"/explore",setImg:e.setImg})))}var de=a(32),be=(a(116),a(37)),he=a.n(be);a(117);function ge(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(null),i=Object(m.a)(o,2),l=i[0],u=i[1];Object(n.useEffect)((function(){e.focus&&l&&l.focus()}));var p=function(){c.length>0&&(e.send(c),s(""))};return r.a.createElement("div",{className:"comment-post"},r.a.createElement("div",{className:"center-post content-comment"},r.a.createElement("input",{ref:function(e){u(e)},className:"comment",value:c,onChange:function(e){s(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&p()},placeholder:e.message?"Env\xeda un mensaje...":"A\xf1ade un comentario..."}),r.a.createElement("button",{onClick:p,disabled:c.length<=0,className:c.length>0?"action-comment":"action-comment disabled"},e.message?"Enviar":"Publicar")))}a(118);function ve(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){s("true"!==e.like&&"false"!==e.like)}),[e]);var o=function(){return"true"===e.like||!0===e.like};return r.a.createElement("img",{className:function(){var e="action";return o()&&(e+=" like-selected"),c&&(e+=" like-animation"),e}(),onClick:function(){o()?e.setlike(!1):e.setlike(!0)},src:o()?D.a:A.a,onAnimationEnd:function(){return s(!1)},alt:"heart"})}var Ee=a(15),Ne=a.n(Ee),we=a(53),xe=a.n(we),je=a(83);a(131);function ke(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(w.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=i.a.firestore(),e.next=4,r.collection("posts").doc(t).delete().then(Object(w.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.collection("users").doc(a).update({posts:i.a.firestore.FieldValue.arrayRemove(t)}).then((function(){n=!0}));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){n=!1,console.log(e)}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],s=a[1],o=function(){return s(!1)},i=Object(n.useContext)(g).profile,l=function(){var t=Object(w.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Seguro que desea eliminar esta publicaci\xf3n?")){t.next=9;break}return t.next=3,ke(e.id,i.user);case 3:if(!t.sent){t.next=7;break}alert("Publicaci\xf3n eliminada con \xe9xito."),t.next=8;break;case 7:alert("Hubo un error al eliminar la publicaci\xf3n");case 8:o();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return xe.a.setAppElement("#root"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"points",onClick:function(){return s(!0)}},r.a.createElement("div",{className:"point"}),r.a.createElement("div",{className:"point"}),r.a.createElement("div",{className:"point"})),r.a.createElement(xe.a,{isOpen:c,onRequestClose:o,className:"Modal",overlayClassName:"Overlay"},r.a.createElement("div",{className:"modal"},r.a.createElement("a",{href:"https://twitter.com/intent/tweet?text=https%3A%2F%2Fpupimarti.github.io%2Fpupigram%23%2Fposts%2F"+e.id,target:"_blank",rel:"noopener noreferrer",className:"action-modal"},"Compartir"),r.a.createElement(je.CopyToClipboard,{text:"https://pupimarti.github.io/pupigram/#/posts/"+e.id,onCopy:function(){o(),alert("Enlace copiado en el portapapeles.")}},r.a.createElement("div",{className:"action-modal action-modal-bt"},"Copiar enlace")),e.user===i.user&&r.a.createElement("div",{className:"action-modal action-modal-bt",onClick:l},"Eliminar publicaci\xf3n"),r.a.createElement(M.b,{to:"/posts/"+e.id,className:"action-modal action-modal-bt"},"Ir a la publicaci\xf3n"),r.a.createElement("div",{className:"action-modal action-modal-bt",onClick:o},"Cancelar"))))}a(48);var Se=a(31);a(136);function Ce(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(w.a)(E.a.mark((function e(t){var a,n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,n=localStorage.getItem("img_posts"),(r=JSON.parse(n))&&r.forEach((function(e){e.post!==t||(a=e.urls)})),a){e.next=8;break}return c=i.a.storage(),e.next=8,c.ref("posts/"+t).listAll().then(function(){var e=Object(w.a)(E.a.mark((function e(n){var r,c,s,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(n.items);case 2:r=e.sent,c={post:t,urls:r},s=localStorage.getItem("img_posts"),(o=JSON.parse(s))||(o=[]),o.push(c),localStorage.setItem("img_posts",JSON.stringify(o)),console.log("retorno de busuqeda"),a=r;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("no se encontraron las imagenes del post"),console.log(e),a=null}));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ie=function(){var e=Object(w.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,De(t,function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL().then((function(e){a.push(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function De(e,t){return Me.apply(this,arguments)}function Me(){return(Me=Object(w.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,a(t[n],n,t);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){var t=Object(n.useState)("loading"),a=Object(m.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){"loading"===c&&function(){var t=Object(w.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce(e.post);case 2:a=t.sent,s(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[c,e.post]),r.a.createElement("div",{className:"content-img-post",onDoubleClick:e.handleClickLikeImg},null!==e.likeImg&&(e.likeImg?r.a.createElement("img",{className:"like-img-post animation-like",src:D.a,alt:"corazon"}):r.a.createElement("img",{className:"like-img-post animation-like1",src:D.a,alt:"corazon"})),"loading"===c?r.a.createElement(F,null):r.a.createElement(Se.Carousel,{showIndicators:c&&c.length>1,emulateTouch:!0,swipeable:!0,showThumbs:!1,showStatus:!1},c&&c.map((function(e,t){return r.a.createElement("div",{key:t,className:"content-img"},r.a.createElement("img",{className:"img-post",src:e,alt:"Imagen de la publicaci\xf3n"}))}))))}function Ge(e,t,a,n){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(w.a)(E.a.mark((function e(t,a,n,r){var c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=i.a.firestore(),s=null,e.prev=2,!r){e.next=8;break}return e.next=6,c.collection("posts").doc(a).update({likes:i.a.firestore.FieldValue.arrayUnion(t)});case 6:e.next=10;break;case 8:return e.next=10,c.collection("posts").doc(a).update({likes:i.a.firestore.FieldValue.arrayRemove(t)});case 10:s=!0,e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),s=!1,console.log("Error getting documents: ",e.t0);case 17:return _(n,"like",t,a),e.abrupt("return",s);case 19:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function Fe(e,t,a,n){return _e.apply(this,arguments)}function _e(){return(_e=Object(w.a)(E.a.mark((function e(t,a,n,r){var c,s,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.a.firestore(),s=null,o={user:t,comment:n,time:i.a.firestore.Timestamp.fromDate(new Date)},e.prev=3,e.next=6,c.collection("posts").doc(a).update({comments:i.a.firestore.FieldValue.arrayUnion(o)});case 6:s=!0,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),s=!1,console.log("Error getting documents: ",e.t0);case 13:return _(r,"comment",t,a,n),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Ve(e){var t=Object(n.useState)(e.likes.length),a=Object(m.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(null),i=Object(m.a)(o,2),l=i[0],u=i[1],p=Object(n.useState)(-1!==e.likes.indexOf(e.profile.user)?"true":"false"),f=Object(m.a)(p,2),d=f[0],b=f[1],h=function(){var t=Object(w.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!a||d&&"false"!==d||s(c+1),a||!d&&"true"!==d||s(c-1),b(a),t.next=5,Ge(e.profile.user,e.id,e.user,a);case 5:if(t.sent){t.next=7;break}console.log("no se pudo realizar el mg");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=Object(n.useState)(!1),v=Object(m.a)(g,2),N=v[0],x=v[1],j=Object(n.useState)([]),k=Object(m.a)(j,2),O=k[0],y=k[1],S=Object(n.useState)(null),C=Object(m.a)(S,2),A=C[0],I=C[1];return Object(n.useEffect)((function(){A||function(){var t=Object(w.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e.user);case 2:a=t.sent,I({picture:a,verify:!1,user:e.user});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.user,A,I]),r.a.createElement("div",{className:"content-post"},r.a.createElement("div",{className:"center-post header-post"},r.a.createElement(M.b,{to:"/"+e.user,className:"user-post"},A&&A.picture?r.a.createElement("img",{className:"img-account",src:A.picture,alt:"account",onError:function(){return W(e.user)}}):r.a.createElement("img",{className:"default-img",src:G.a,alt:"account"}),r.a.createElement("p",{className:"user-account"},e.user),e.verify&&r.a.createElement("img",{className:"verify",src:Ne.a,alt:"Verificado"})),r.a.createElement(ye,{id:e.id,user:e.user})),r.a.createElement(Re,{likeImg:l,post:e.id,handleClickLikeImg:function(){u(null===l||!l),h(!0)}}),r.a.createElement("div",{className:"center-post actions-post"},r.a.createElement(ve,{like:d,setlike:h}),r.a.createElement(M.b,{className:"action pc",to:"/posts/"+e.id},r.a.createElement("img",{className:"action-c",src:he.a,alt:"comment"})),r.a.createElement(M.b,{className:"action mobile",to:"/comments/"+e.id},r.a.createElement("img",{className:"action-c",src:he.a,alt:"comment"}))),r.a.createElement(M.b,{to:"/likes/"+e.id,className:"center-post likes-post"},(new Intl.NumberFormat).format(c)," Me gusta"),r.a.createElement("div",{className:"center-post description-post"},r.a.createElement("p",null,r.a.createElement(M.b,{to:"/"+e.user,className:"user-account"},e.user),e.verify&&r.a.createElement("img",{className:"verify",src:Ne.a,alt:"Verificado"})," ",r.a.createElement("span",{className:"text-post"},e.desc.length>100?N?r.a.createElement("span",null,e.desc):r.a.createElement("span",null,e.desc.substring(0,100),"..."," ",r.a.createElement("span",{className:"show-more",onClick:function(){x(!N)}},"m\xe1s")):e.desc))),e.comments&&e.comments.length>0&&r.a.createElement("div",{className:"center-post"},r.a.createElement(M.b,{to:"/posts/"+e.id,className:"show-comments-post pc"},1===e.comments.length?"Ver "+e.comments.length+" comentario":"Ver los "+e.comments.length+"  comentarios"),r.a.createElement(M.b,{to:"/comments/"+e.id,className:"show-comments-post mobile"},1===e.comments.length?"Ver "+e.comments.length+" comentario":"Ver los "+e.comments.length+"  comentarios")),r.a.createElement("div",{className:"description-post center-post"},O.map((function(e,t){return r.a.createElement("p",{key:t,className:"comment-user-post"},r.a.createElement(M.b,{to:"/default",className:"user-account"},"default")," ",r.a.createElement("span",{className:"text-post"},e))}))),r.a.createElement("p",{className:"center-post time-post "},r.a.createElement(P.a,{date:new Date(e.time),locale:"es"})),r.a.createElement("div",{className:"pc"},r.a.createElement(ge,{send:function(t){y([].concat(Object(de.a)(O),[t])),Fe(e.profile.user,e.id,t,e.user)}})))}function Ue(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(w.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],n=i.a.firestore(),!t){e.next=7;break}return e.next=5,n.collection("posts").where("user","==",t).orderBy("time").get().then((function(e){e.forEach((function(e){var t=e.data();t.id=e.id,t.time=t.time.toDate(),a.push(t)}))})).catch((function(e){return console.log(e)}));case 5:e.next=9;break;case 7:return e.next=9,n.collection("posts").orderBy("time").get().then((function(e){e.forEach((function(e){var t=e.data();t.id=e.id,t.time=t.time.toDate(),a.push(t)}))})).catch((function(e){return console.log(e)}));case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(137);function Te(){var e=Object(n.useState)("loading"),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(g).profile;return Object(n.useEffect)((function(){"loading"===a&&function(){var e=Object(w.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue();case 2:(t=e.sent)&&(a=t.reverse(),c(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c,a]),"loading"===a?r.a.createElement(F,null):r.a.createElement(r.a.Fragment,null,a&&a.map((function(e){return r.a.createElement(Ve,{profile:s,key:e.id,id:e.id,user:e.user,img:e.img,desc:e.desc,likes:e.likes,time:e.time,comments:e.comments,verify:e.verify})})))}var Le=a(84),ze=a.n(Le);a(138);function Be(e){return r.a.createElement("div",null,r.a.createElement("p",{className:"nouser"},"Esta p\xe1gina no est\xe1 disponible."),e.construction?r.a.createElement("p",{className:"nouser-desc"},"Esta p\xe1gina a\xfan se encuentra en construcci\xf3n. ",r.a.createElement(M.b,{to:"/"},"Volver a Pupigram.")):r.a.createElement("p",{className:"nouser-desc"},"Es posible que el enlace que has seguido sea incorrecto o que se haya eliminado la p\xe1gina. ",r.a.createElement(M.b,{to:"/"},"Volver a Pupigram.")))}a(139);function Ye(e){var t=Object(n.useContext)(g),a=t.posts,c=t.profile,s=Object(pe.g)().pathname.substr(1),o=Object(n.useState)("loading"),i=Object(m.a)(o,2),l=i[0],u=i[1],p=Object(n.useState)(0),f=Object(m.a)(p,2),d=f[0],b=f[1];function h(e,t){return v.apply(this,arguments)}function v(){return(v=Object(w.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,a(t[n],n,t);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(n.useEffect)((function(){var e=function(){var e=Object(w.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(s);case 2:if(null===(t=e.sent)){e.next=16;break}return e.next=6,Y(t.user);case 6:if(a=e.sent,n=[],!t.posts){e.next=11;break}return e.next=11,h(t.posts,function(){var e=Object(w.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:a=e.sent,n.push({id:t,url:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:t.posts=n,t.picture=a,u(t),e.next=17;break;case 16:u(null);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l&&l.user!==s&&u("loading"),"loading"===l&&e()}),[s,a,l,c]),null===l)return r.a.createElement(Be,null);var N=function(){if(l.posts)return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"stats-user no-select"},r.a.createElement("b",null,l.posts.length)," publicacion",1!==l.posts.length&&"es"),r.a.createElement(M.b,{to:"/followers/"+l.user,className:"stats-user no-select"},r.a.createElement("b",null,l.followers.length+d)," seguidor",l.followers.length+d!==1&&"es"),r.a.createElement(M.b,{to:"/follows/"+l.user,className:"stats-user no-select"},r.a.createElement("b",null,l.follows.length)," seguido",1!==l.follows.length&&"s"))};return"loading"===l?r.a.createElement(F,null):r.a.createElement("div",null,r.a.createElement("header",{className:"header-user"},r.a.createElement("div",{className:"content-perfil-img"},r.a.createElement("img",{className:"perfil-img",src:l.picture,alt:"perfil_picture"})),r.a.createElement("div",{className:"content-info-user"},r.a.createElement("div",{className:"info-user"},r.a.createElement("h2",{className:"username-user"},l.user),l.verify&&r.a.createElement("img",{className:"verify",src:Ne.a,alt:"verify"}),r.a.createElement("div",{className:"content-follow-points"},c&&c.user===s&&r.a.createElement(M.b,{to:"/account/edit"},r.a.createElement("button",{className:"button unfollow"},"Editar perfil")),c&&c.user===s&&r.a.createElement("button",{className:"button unfollow",onClick:function(){return e.handleLogoutUser()}},"Cerrar sesi\xf3n"),r.a.createElement(B,{user:c.user,user_follow:l.user,setFollowers:function(e){b(e?d+1:d+-1)}}))),r.a.createElement("div",{className:"info-user stats pc"},N()),r.a.createElement("div",{className:"pc"},r.a.createElement("h4",{className:"username-name"},l.name),r.a.createElement("p",{className:"description-user"},l.desc),r.a.createElement("a",{className:"web-user",href:"https://"+l.web,target:"_blank",rel:"noopener noreferrer"},l.web)))),r.a.createElement("div",{className:"content-user-description mobile"},r.a.createElement("h4",{className:"username-name"},l.name),r.a.createElement("p",{className:"description-user"},l.desc),r.a.createElement("a",{className:"web-user",href:l.web,target:"_blank",rel:"noopener noreferrer"},l.web)),r.a.createElement("div",{className:"info-user stats mobile"},N()),r.a.createElement("section",{className:"posts-user"},r.a.createElement("div",{className:"posts-user-public"},r.a.createElement("div",{className:"content-public"},r.a.createElement("img",{className:"icon",src:ze.a,alt:"Publicaciones"}),r.a.createElement("p",{className:"pc"},"PUBLICACIONES"))),l.posts&&l.posts.map((function(e){return r.a.createElement(M.b,{key:e.id,to:"/posts/"+e.id,className:"post-user"},r.a.createElement("img",{src:e.url,alt:"post"}))}))),l.posts&&0===l.posts.length&&r.a.createElement("p",{className:"text-center"},"A\xfan no hay publicaciones subidas."))}a(140);function He(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){c||function(){var t=Object(w.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e.user);case 2:a=t.sent,s({user:e.user,picture:a,verify:!1});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.user,c,s]),r.a.createElement("div",{className:"content-comment-post-id center-post-id"},r.a.createElement("div",{className:"content-user-post-id cpi"},r.a.createElement(M.b,{to:"/"+e.user,className:"content-img-username"},c&&c.picture?r.a.createElement("img",{className:"img-account",src:c.picture,alt:"profile_picture"}):r.a.createElement("img",{className:"default-img",src:G.a,alt:"profile_picture"})),r.a.createElement("p",{className:"user-account"},r.a.createElement(M.b,{to:"/"+e.user},e.user)," ",c&&c.verify&&r.a.createElement("img",{className:"verify",src:Ne.a,alt:"Verificado"}),"\xa0",r.a.createElement("span",null,e.comment)),r.a.createElement("p",{className:"time-post"},r.a.createElement(P.a,{date:new Date(e.time),locale:"es"}))))}a(141);function We(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(w.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=i.a.firestore(),e.next=4,n.collection("posts").doc(t).get().then((function(e){if(e.exists){var t=e.data();t.id=e.id,t.time=t.time.toDate(),a=t}else console.log("no existe el usuario"),a=null})).catch((function(e){console.log(e),a=null}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){var e=Object(pe.g)().pathname.substr(7),t=Object(n.useState)("loading"),a=Object(m.a)(t,2),c=a[0],s=a[1],o=Object(n.useContext)(g).profile,i=Object(n.useState)(0),l=Object(m.a)(i,2),u=l[0],p=l[1],f=Object(n.useState)(null),d=Object(m.a)(f,2),b=d[0],h=d[1],v=Object(n.useState)(null),N=Object(m.a)(v,2),x=N[0],j=N[1],k=function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(o.user,c.id,t,c.user);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){"loading"===c&&function(){var t=Object(w.a)(E.a.mark((function t(){var a,n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We(e);case 2:if(null===(a=t.sent)){t.next=17;break}return t.next=6,Y(a.user);case 6:return n=t.sent,a.picture_user=n,t.next=10,Ce(e);case 10:r=t.sent,a.img=r,s(a),j(-1!==a.likes.indexOf(o.user)?"true":"false"),p(a.likes.length),t.next=18;break;case 17:s(null);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e,c,j,o.user]);var O=function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!t||x&&"false"!==x||p(u+1),t||!x&&"true"!==x||p(u-1),j(t),e.next=5,Ge(o.user,c.id,t);case 5:if(e.sent){e.next=7;break}console.log("no se pudo realizar el mg");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(n.useState)([]),S=Object(m.a)(y,2),C=S[0],A=S[1],I=Object(n.useState)(window.innerWidth<=800),R=Object(m.a)(I,1)[0];return"loading"===c?r.a.createElement(F,null):null===c?r.a.createElement(Be,null):R?r.a.createElement(Ve,{id:c.id,user_img:c.picture_user,user:c.user,verify:c.verify,img:c.img,desc:c.desc,likes:c.likes,time:c.time,comments:c.comments,profile:o}):r.a.createElement("div",{className:"content-post-id"},r.a.createElement("div",{className:"content-user-post-id center-post-id mobile"},r.a.createElement(M.b,{to:"/"+c.user,className:"content-img-username"},r.a.createElement("img",{className:"img-account",src:c.picture_user,alt:"profile_picture"}),r.a.createElement("p",{className:"user-account"},c.user),c.verify&&r.a.createElement("img",{className:"verify",src:Ne.a,alt:"Verificado"})),r.a.createElement(ye,{id:c.id,user:c.user})),r.a.createElement("div",{className:"content-img-post-id",onDoubleClick:function(){h(null===b||!b),O(!0)}},null!==b&&(b?r.a.createElement("img",{className:"like-img-post animation-like",src:D.a,alt:"corazon"}):r.a.createElement("img",{className:"like-img-post animation-like1",src:D.a,alt:"corazon"})),r.a.createElement(Se.Carousel,{showIndicators:c.img&&c.img.length>1,emulateTouch:!0,swipeable:!0,showThumbs:!1,showStatus:!1},c.img&&c.img.map((function(e,t){return r.a.createElement("div",{key:t,className:"content-img"},r.a.createElement("img",{className:"img-post",src:e,alt:"Imagen de la publicaci\xf3n"}))})))),r.a.createElement("div",{className:"content-info-post-id"},r.a.createElement("div",{className:"content-user-post-id center-post-id pc"},r.a.createElement(M.b,{to:"/"+c.user,className:"content-img-username"},r.a.createElement("img",{className:"img-account",src:c.picture_user,alt:"profile_picture"}),r.a.createElement("p",{className:"user-account"},c.user),c.verify&&r.a.createElement("img",{className:"verify",src:Ne.a,alt:"Verificado"})),r.a.createElement(ye,{id:c.id})),r.a.createElement("div",{className:"content-comments-post-id"},r.a.createElement(He,{user:c.user,picture_user:c.picture_user,comment:c.desc,time:c.time,verify:c.verify}),c.comments&&c.comments.map((function(e,t){return r.a.createElement(He,{key:t,user:e.user,comment:e.comment,time:e.time.toDate()})})),C&&C.map((function(e,t){return r.a.createElement(He,{key:t,user:o.user,comment:e,time:new Date})}))),r.a.createElement("div",{className:"content-likes-comment-post-id"},r.a.createElement("div",{className:"center-post-id actions-post"},r.a.createElement(ve,{like:x,setlike:O}),r.a.createElement("img",{className:"action",src:he.a,alt:"comment"})),r.a.createElement(M.b,{to:"/likes/"+c.id,className:"center-post-id mb8 likes-post-id"},"Le",1!==u&&"s"," gusta a"," ",r.a.createElement("b",null,(new Intl.NumberFormat).format(u)," persona",1!==u&&"s")),r.a.createElement("p",{className:"time-post mb8 center-post-id"},r.a.createElement(P.a,{date:new Date(c.time),locale:"es"})),r.a.createElement(ge,{send:function(e){k(e),A([].concat(Object(de.a)(C),[e]))}}))))}a(142);var qe=a(181),Qe=a(87),Ke=a.n(Qe);a(143);function $e(){var e=Object(pe.g)().pathname.substr(10),t=Object(n.useState)("loading"),a=Object(m.a)(t,2),c=a[0],s=a[1],o=Object(n.useContext)(g).profile,i=function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(o.user,c.id,t,c.user);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){"loading"===c&&function(){var t=Object(w.a)(E.a.mark((function t(){var a,n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,We(e);case 2:if(null===(a=t.sent)){t.next=9;break}return t.next=6,Y(a.user);case 6:null!=(n=t.sent)&&(a.picture_user=n,a.verify=!1),s(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e,c]);var l=Object(n.useState)([]),u=Object(m.a)(l,2),p=u[0],f=u[1];return"loading"===c?r.a.createElement(F,null):null===c?r.a.createElement(Be,null):r.a.createElement("div",{className:"content-comments-user"},r.a.createElement(He,{user:c.user,comment:c.desc,time:c.time}),c.comments&&c.comments.map((function(e,t){return r.a.createElement(He,{key:t,user:e.user,comment:e.comment,time:e.time.toDate()})})),p&&p.map((function(e,t){return r.a.createElement(He,{key:t,user:o.user,comment:e,time:new Date})})),r.a.createElement("div",{className:"cont-comment-user"},r.a.createElement(ge,{send:function(e){i(e),f([].concat(Object(de.a)(p),[e]))},focus:!0})))}function et(){var e=Object(n.useState)("loading"),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(g),o=s.notifs,i=s.profile;return Object(n.useEffect)((function(){function e(e,a){return t.apply(this,arguments)}function t(){return(t=Object(w.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,a(t[n],n,t);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"loading"===a&&function(){var t=Object(w.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(i.user);case 2:if(!(a=t.sent)){t.next=6;break}return t.next=6,e(a.notifs,function(){var e=Object(w.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("like"!==t.type&&"comment"!==t.type){e.next=4;break}return e.next=3,K(t.post);case 3:t.img=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:c(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[a,o,i.user]),"loading"===a?r.a.createElement(F,null):r.a.createElement("div",{className:"content-notifications-mobile"},a&&a.notifs.map((function(e,t){return r.a.createElement(X,{key:t,type:e.type,time:e.time.toDate(),post:e.post,comment:e.comment,img:e.img,user:e.user_send})})))}a(144);function tt(e){var t=Object(n.useContext)(g).posts,a=Object(n.useState)("loading"),c=Object(m.a)(a,2),s=c[0],o=c[1],i=Object(pe.g)().pathname,l=i;return l=e.follows?i.substr(9):e.followers?i.substr(11):i.substr(7),Object(n.useEffect)((function(){var t=function(){var t=Object(w.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(l);case 2:if(a=t.sent,!e.follows){t.next=7;break}return t.abrupt("return",a.follows);case 7:return t.abrupt("return",a.followers);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();"loading"===s&&function(){var a=Object(w.a)(E.a.mark((function a(){var n,r,c,s,i,u;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=[],!e.likes){a.next=8;break}return a.next=4,We(l);case 4:r=a.sent,n=r.likes,a.next=11;break;case 8:return a.next=10,t();case 10:n=a.sent;case 11:c=[],s=Object(Q.a)(n);try{for(s.s();!(i=s.n()).done;)u=i.value,c.push(u)}catch(m){s.e(m)}finally{s.f()}o(c);case 16:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()()}),[s,l,o,e,t]),r.a.createElement("div",{className:"content-viewfollows"},r.a.createElement("h5",{className:"title-viewfollows"},e.follows&&"Seguidos",e.followers&&"Seguidores",e.likes&&"Me gusta"),s&&Array.isArray(s)&&s.map((function(e,t){return r.a.createElement(X,{key:t,type:"name",user:e})})))}a(145);function at(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){c||function(){var t=Object(w.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e.user);case 2:a=t.sent,s(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.user,c,s]),c?r.a.createElement("div",{onClick:function(){e.onClick({user:e.user,verify:c.verify,picture:c})},className:e.read?"content-direct":"content-direct unread"},r.a.createElement("div",{to:"/"+e.user,className:"content-img-username"},c?r.a.createElement("img",{className:"img-account",src:c,alt:"profile_picture"}):r.a.createElement("img",{className:"default-img",src:G.a,alt:"profile_picture"})),r.a.createElement("div",{className:"direct-message-time"},r.a.createElement("div",{className:"direct-user"},r.a.createElement("p",null,e.user)," "),r.a.createElement("p",{className:"direct-message"},e.message.length>30?e.message.substring(0,30)+"...":e.message," \u2022",r.a.createElement("span",{className:"time-notif"}," ",e.time&&r.a.createElement(P.a,{date:new Date(e.time),timeStyle:"twitter",locale:"es"})))),r.a.createElement("div",{className:e.read?"invisible":"direct-unread"})):r.a.createElement(F,null)}var nt=a(85),rt=a.n(nt);a(146);function ct(e,t,a,n,r){var c,s=n,o=Object(Q.a)(s);try{for(o.s();!(c=o.n()).done;){var i=c.value;if(i.user===e){var l,u=Object(Q.a)(i.directs);try{for(u.s();!(l=u.n()).done;){var m=l.value;if(m.user===t)return m.messages.push({message:a,time:new Date,own:!0}),m.read=!0,r(s),!0}}catch(p){u.e(p)}finally{u.f()}}}}catch(p){o.e(p)}finally{o.f()}return!1}function st(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){if(null!==e.direct){var t=function(e,t,a){var n,r=Object(Q.a)(a);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(c.user===e){var s,o=Object(Q.a)(c.directs);try{for(o.s();!(s=o.n()).done;){var i=s.value;if(i.user===t)return i.messages}}catch(l){o.e(l)}finally{o.f()}return"none"}}}catch(l){r.e(l)}finally{r.f()}return null}("default",e.direct.user,e.directs);"none"===t?(e.addChat("default",e.direct.user),s([])):s(t)}}),[c,e]);var o=function(){var t=Object(w.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ct("default",e.direct.user,a,e.directs,e.setDirects)&&s(null);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return null===e.direct?r.a.createElement("div",{className:"content-chat pc"},r.a.createElement("div",{className:"content-default"},r.a.createElement("div",{className:"content-chat-default"},r.a.createElement("div",{className:"content-chat-logo-default"},r.a.createElement("img",{className:"chat-logo-default",src:se.a,alt:"Direct"})),r.a.createElement("p",{className:"chat-title-default"},"Tus mensajes"),r.a.createElement("p",{className:"chat-desc-default"},"Env\xeda fotos y mensajes privados a un amigo o grupo."),r.a.createElement("button",{onClick:function(){e.setNewChat(!0)},className:"button follow"},"Enviar mensaje")))):r.a.createElement("div",{className:"content-chat"},r.a.createElement("header",{className:"content-header-chat"},r.a.createElement("div",{className:"chat-back mobile",onClick:function(){s(null),e.back(null)}}),r.a.createElement(M.b,{className:"content-header-chat",to:"/"+e.direct.user},r.a.createElement("img",{className:"chat-user-img",src:e.direct.picture,alt:"user-img"}),r.a.createElement("p",{className:"chat-user-name"},e.direct.user),e.direct.verify&&r.a.createElement("img",{className:"verify",src:Ne.a,alt:"Verificado"}))),r.a.createElement("div",{className:"chat-content-messages"},c&&c.map((function(t,a){return t.own?r.a.createElement("div",{key:a,className:"content-chat-message own"},r.a.createElement("div",{className:"chat-message own"},t.message)):r.a.createElement("div",{key:a,className:"content-chat-message"},r.a.createElement(M.b,{to:"/"+e.direct.user},r.a.createElement("img",{className:"chat-user-img",src:e.direct.picture,alt:"user-img"})),r.a.createElement("div",{className:"chat-message"},t.message))}))),null===c&&r.a.createElement(F,null),r.a.createElement("div",{className:"chat-content-comment"},r.a.createElement(ge,{send:o,message:!0})))}a(147),a(148);function ot(e){var t=!1;return null!==e.select&&e.select.user===e.user&&(t=!0),r.a.createElement("div",{onClick:function(){e.onClick({user:e.user,picture:e.picture,verify:e.verify})},className:"content-new-direct-user"},r.a.createElement("div",{className:"content-img-username"},e.picture?r.a.createElement("img",{className:"img-account",src:e.picture,alt:"profile_picture",onError:function(){return W(e.user)}}):r.a.createElement("img",{className:"default-img",src:G.a,alt:"profile_picture"})),r.a.createElement("div",{className:"direct-user"},r.a.createElement("p",null,e.user),e.verify&&r.a.createElement("img",{className:"verify-directs",src:Ne.a,alt:"Verificado"})," "),r.a.createElement("div",{className:t?"new-direct-select true":"new-direct-select"},t&&r.a.createElement("div",{id:"tick-mark"})))}function it(e){var t=Object(n.useContext)(g).users,a=Object(n.useState)(null),c=Object(m.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(null),l=Object(m.a)(i,2),u=l[0],p=l[1];Object(n.useEffect)((function(){if(null===s){var a=L(e.user,t);null!==a&&o(a.follows)}}),[s,e,t]);return r.a.createElement("div",{className:"content-new-chat"},r.a.createElement("header",{className:"content-directs-header"},r.a.createElement("div",{onClick:function(){return e.setNewChat(!1)},className:"chat-back"}),r.a.createElement("h5",null,"Nuevo mensaje"),r.a.createElement("button",{onClick:function(){null!==u&&(e.setViewDirect(u),e.setNewChat(!1))},className:"action-comment"},"Siguiente")),s&&s.map((function(e,t){var a=Y(e);return r.a.createElement(ot,{key:t,user:e,picture:a,verify:!1,onClick:p,select:u})})))}a(149);function lt(){var e=Object(n.useState)("loading"),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),o=Object(m.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)(!1),p=Object(m.a)(u,2),f=p[0],d=p[1],b=Object(n.useContext)(g),h=b.directs,v=b.setDirects,E=function(e){null===e?l(null):(l(e),function(e,t,a,n){var r,c=a,s=Object(Q.a)(c);try{for(s.s();!(r=s.n()).done;){var o=r.value;if(o.user===e){var i,l=Object(Q.a)(o.directs);try{for(l.s();!(i=l.n()).done;){var u=i.value;if(u.user===t)return u.read=!0,n(c),!0}}catch(m){l.e(m)}finally{l.f()}}}}catch(m){s.e(m)}finally{s.f()}}("default",e.user,h,v))};return Object(n.useEffect)((function(){if("loading"===a){var e=function(e,t){var a,n=Object(Q.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(r.user===e)return r}}catch(c){n.e(c)}finally{n.f()}return null}("default",h);c(e.directs)}}),[a,h]),"loading"===a?r.a.createElement(F,null):null===a?r.a.createElement(Be,null):f?r.a.createElement("div",{className:"content-directs"},r.a.createElement(it,{user:"default",setNewChat:d,setViewDirect:E})):r.a.createElement("div",{className:"content-directs"},r.a.createElement("div",{className:null===i?"content-list-directs":"content-list-directs viewdirect"},r.a.createElement("header",{className:"content-directs-header"},r.a.createElement(M.b,{to:"/",className:"chat-back"}),r.a.createElement("h5",null,"Direct"),r.a.createElement("img",{onClick:function(){d(!0)},className:"icon",src:rt.a,alt:"nuevo mensaje"})),r.a.createElement("div",{className:"content-directs-messages"},a&&a.map((function(e,t){return r.a.createElement(at,{key:t,user:e.user,message:e.messages[e.messages.length-1].message,time:e.messages[e.messages.length-1].time,read:e.read,onClick:E})})))),r.a.createElement(st,{direct:i,back:E,directs:h,setDirects:v,setNewChat:d,addChat:function(e,t){!function(e,t,a,n){var r,c=a,s=Object(Q.a)(c);try{for(s.s();!(r=s.n()).done;){var o=r.value;if(o.user===e)return o.directs.push({user:t,read:!0,messages:[]}),n(c),console.log(c),!0}}catch(i){s.e(i)}finally{s.f()}}(e,t,h,v)}}))}a(150);function ut(e,t){return mt.apply(this,arguments)}function mt(){return(mt=Object(w.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.a.storage().ref().child(t),r=null,e.next=4,n.put(a).then((function(){r=!0})).catch((function(e){console.log("No se pudo subir la imagen de perfil"),console.log(e),r=null}));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t,a,n){return ft.apply(this,arguments)}function ft(){return(ft=Object(w.a)(E.a.mark((function e(t,a,n,r){var c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",null);case 2:return c=null,s=i.a.firestore(),e.next=6,s.collection("posts").add({user:t,desc:r,verify:a,likes:[],time:i.a.firestore.Timestamp.fromDate(new Date),comments:[]}).then(function(){var e=Object(w.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(a.id,n);case 2:if(!(c=e.sent)){e.next=6;break}return e.next=6,s.collection("users").doc(t).update({posts:i.a.firestore.FieldValue.arrayUnion(a.id)});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){c=!1,console.log(e)}));case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dt=function(){var e=Object(w.a)(E.a.mark((function e(t,a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,r=0,e.next=4,bt(a,function(){var e=Object(w.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut("posts/"+t+"/"+r,a);case 2:r++,n=!0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function bt(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(w.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,a(t[n],n,t);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e){var t=Object(n.useState)(0),a=Object(m.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(""),i=Object(m.a)(o,2),l=i[0],u=i[1],p=Object(n.useState)(!1),f=Object(m.a)(p,2),d=f[0],b=f[1],h=Object(n.useContext)(g).profile,v=function(){var t=Object(w.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==c){t.next=4;break}s(1),t.next=9;break;case 4:return b(!0),t.next=7,pt(h.user,h.verify,e.img,l);case 7:b(!1),e.setImg(null);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return d?r.a.createElement(F,{allpage:!0}):r.a.createElement("div",{className:"content-add-post"},r.a.createElement("header",{className:"content-header-add-post"},r.a.createElement("div",{className:"chat-back",onClick:function(){0===c?e.setImg(null):s(0)}}),r.a.createElement("h5",null,"Nueva publicaci\xf3n"),r.a.createElement("button",{onClick:v,className:"action-comment"},0===c?"Siguiente":"Compartir")),0===c?r.a.createElement(Se.Carousel,{showIndicators:e.img&&e.img.length>1,emulateTouch:!0,swipeable:!0,showThumbs:!1,showStatus:!1},e.img&&e.img.map((function(e,t){return r.a.createElement("div",{key:t,className:"content-img"},r.a.createElement("img",{className:"img-post",src:URL.createObjectURL(e),alt:"Imagen de la publicaci\xf3n"}))}))):r.a.createElement("div",{className:"content-desc-new-post"},r.a.createElement("img",{src:h.picture,className:"img-user-add-post",alt:"Tu imagen de perfil"}),r.a.createElement("textarea",{className:"text-add-post",placeholder:"Escribe un pie de foto...",onChange:function(e){return u(e.target.value)},value:l}),r.a.createElement("img",{className:"img-post-add-post",src:URL.createObjectURL(e.img[0]),alt:"La imagen del post"})))}var vt=a(22),Et=a(11),Nt=a.n(Et);a(151);function wt(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],s=a[1],o=function(e){s(e)},i=Object(n.useState)({user:"",password:""}),l=Object(m.a)(i,2),u=l[0],p=l[1],f=function(e){var t,a=e.target,n=a.name;t=Object(N.a)(Object(N.a)({},u),{},Object(vt.a)({},n,a.value)),p(t)},d=function(){var t=Object(w.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o(!0),t.next=4,Nt.a.auth().signInWithEmailAndPassword("default@gmail.com","default").then((function(t){return e.setUser(t.user)})).catch((function(e){o(!1),k(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(w.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o(!0),t.next=4,Nt.a.auth().signInWithEmailAndPassword(u.user,u.password).then((function(t){return e.setUser(t.user)})).catch((function(e){o(!1),k(e)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(w.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o(!0),n=new Nt.a.auth.GoogleAuthProvider,t.next=5,Nt.a.auth().signInWithPopup(n).then((function(t){return e.setUser(t.user)})).catch((function(e){o(!1),k(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=Object(n.useState)(null),v=Object(m.a)(g,2),x=v[0],k=v[1];return e.user?r.a.createElement(pe.a,{to:"/signup"}):r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{className:"login-form",onSubmit:b},r.a.createElement("img",{src:j.a,alt:"logo",className:"logo-login"}),r.a.createElement("input",{type:"text",placeholder:"E-mail",name:"user",onChange:f,value:u.user}),r.a.createElement("input",{type:"password",placeholder:"Contrase\xf1a",name:"password",onChange:f,value:u.password}),r.a.createElement("button",{className:"button follow",onClick:b},c?r.a.createElement(F,null):"Iniciar sesi\xf3n"),r.a.createElement("div",{className:"divisor-login"},r.a.createElement("hr",null),"o",r.a.createElement("hr",null)),r.a.createElement("button",{className:"button follow",onClick:d},c?r.a.createElement(F,null):"Ingresar como an\xf3nimo"),r.a.createElement("button",{onClick:h,className:"button follow"},"Iniciar sesi\xf3n con Google"),x&&r.a.createElement("p",{className:"error"},function(){if(x)switch(x.code){case"auth/user-not-found":return"El nombre de usuario que has introducido no pertenece a ninguna cuenta. Comprueba tu nombre de usuario y vuelve a intentarlo.";case"auth/wrong-password":return"Tu contrase\xf1a no es correcta. Vuelve a comprobarla.";default:return"Usuario o contrase\xf1a incorrectos."}return""}()),r.a.createElement("p",{className:"forget-password"},"\xbfHas olvidado la contrase\xf1a?"))),r.a.createElement("div",{className:"w100"},r.a.createElement("div",{className:"form login-no-account"},r.a.createElement("p",{className:"no-account"},"\xbfNo tienes una cuenta? ",r.a.createElement(M.b,{to:"/signup"},"Reg\xedstrate")))))}function xt(e){return jt.apply(this,arguments)}function jt(){return(jt=Object(w.a)(E.a.mark((function e(t){var a,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.a.firestore(),n=t,t||(n="default@gmail.com"),r=null,e.next=6,a.collection("users").where("email","==",n).get().then((function(e){e.forEach((function(e){r={user:e.id,data:e.data()}}))})).catch((function(e){console.log(e),r=e}));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(152);var kt=a(86),Ot=a.n(kt);function yt(e,t,a,n){return St.apply(this,arguments)}function St(){return(St=Object(w.a)(E.a.mark((function e(t,a,n,r){var c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null,(s=r)&&""!==s||(s=Ot.a),e.next=5,fetch(s).then((function(e){return e.blob()})).then(function(){var e=Object(w.a)(E.a.mark((function e(r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut("users/"+t,r);case 2:if(!e.sent){e.next=9;break}return e.next=6,Ct(t,n,a);case 6:c=e.sent,e.next=10;break;case 9:c=!1;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ct=function(){var e=Object(w.a)(E.a.mark((function e(t,a,n){var r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.a.firestore(),c=!1,e.next=4,r.collection("users").doc(t).set({name:a,email:n,verify:!1,web:"",posts:[],followers:[],follows:[],desc:"Usuario pupigram"}).then(Object(w.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(t);case 2:c=e.sent;case 3:case"end":return e.stop()}}),e)})))).catch((function(e){c=!1,console.log("Error getting documents: ",e)}));case 4:return e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),At=function(){var e=Object(w.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.a.firestore(),n=!1,e.next=4,a.collection("notif").doc(t).set({notifs:[],visualized:!0}).then((function(){n=!0})).catch((function(e){n=!1,console.log("Error getting documents: ",e)}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function It(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],s=a[1],o=function(e){s(e)},i=Object(n.useState)({email:e.user?e.user.email:"",name:e.user&&e.user.displayName?e.user.displayName:"",user:"",password:""}),l=Object(m.a)(i,2),u=l[0],p=l[1],f=function(e){p(e)},d=function(e){var t=e.target,a=t.name;if("user"===a){var n=t.value.slice(0,20).replace(/\s/g,"").replace(/[^a-zA-Z0-9_]/g,"");f(Object(N.a)(Object(N.a)({},u),{},Object(vt.a)({},a,n.toLowerCase())))}else f(Object(N.a)(Object(N.a)({},u),{},Object(vt.a)({},a,t.value)))},b=function(){var t=Object(w.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o(!0),t.next=4,L(u.user);case 4:if(!t.sent){t.next=8;break}return k({message:"El nombre de usuario '"+u.user+"' ya est\xe1 en uso."}),o(!1),t.abrupt("return");case 8:if(!e.user){t.next=15;break}return t.next=11,yt(u.user,u.email,u.name,e.user.photoURL);case 11:t.sent?e.setProfile(null):(k({message:"Se ha producido un error al registrarse."}),o(!1)),t.next=17;break;case 15:return t.next=17,Nt.a.auth().createUserWithEmailAndPassword(u.email,u.password).then(function(){var t=Object(w.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt(u.user,u.email,u.name,"");case 2:t.sent?(e.setUser(a.user),o(!1)):(k({message:"Se ha producido un error al registrarse."}),o(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){o(!1),k(e)}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(w.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o(!0),n=new Nt.a.auth.GoogleAuthProvider,t.next=5,Nt.a.auth().signInWithPopup(n).then((function(t){return e.setUser(t.user)})).catch((function(e){o(!1),k(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=Object(n.useState)(null),v=Object(m.a)(g,2),x=v[0],k=v[1];return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("form",{className:"login-form",onSubmit:b},r.a.createElement("img",{src:j.a,alt:"logo",className:"logo-login"}),r.a.createElement("h4",{className:"text-register"},"Reg\xedstrate para ver fotos y videos de tus amigos."),e.user?r.a.createElement("div",{className:"profile-register"},e.user.photoURL&&r.a.createElement("img",{className:"img-user",src:e.user.photoURL,alt:"tu-foto"}),r.a.createElement("button",{className:"button follow",onClick:function(){return e.setUser(null)}},"No registrarme con ",u.email)):r.a.createElement("button",{onClick:h,className:"button follow"},"Iniciar sesi\xf3n con Google"),r.a.createElement("div",{className:"divisor-login"},r.a.createElement("hr",null),"o",r.a.createElement("hr",null)),r.a.createElement("input",{type:"text",placeholder:"Correo electr\xf3nico",name:"email",onChange:d,value:u.email,disabled:e.user}),r.a.createElement("input",{type:"text",placeholder:"Nombre completo",name:"name",onChange:d,value:u.name}),r.a.createElement("input",{type:"text",placeholder:"Nombre de usuario",name:"user",onChange:d,value:u.user}),!e.user&&r.a.createElement("input",{type:"password",placeholder:"Contrase\xf1a",name:"password",onChange:d,value:u.password}),r.a.createElement("button",{className:"button follow",onClick:b},c?r.a.createElement(F,null):"Registrarte"),x&&r.a.createElement("p",{className:"error"},x.message),r.a.createElement("p",{className:"conditions"},"Al registrarte, aceptas nuestras Condiciones, la Pol\xedtica de datos y la Pol\xedtica de cookies."))),r.a.createElement("div",{className:"w100"},r.a.createElement("div",{className:"form login-no-account"},r.a.createElement("p",{className:"no-account"},"\xbfTienes una cuenta? ",r.a.createElement(M.b,{to:"/login"},"Entrar")))))}a(153);function Dt(e,t,a,n){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(w.a)(E.a.mark((function e(t,a,n,r){var c,s,o,l=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=l.length>4&&void 0!==l[4]?l[4]:null,s=i.a.firestore(),o=!0,!c){e.next=7;break}return e.next=6,ut("users/"+t,c);case 6:o=e.sent;case 7:if(!o){e.next=10;break}return e.next=10,s.collection("users").doc(t).set({name:a,web:n,desc:r},{merge:!0}).then((function(){o=!0})).catch((function(e){o=!1,console.log("Error getting documents: ",e)}));case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rt=a(44);function Gt(){var e=Object(n.useContext)(g),t=e.profile,a=e.setProfile,c=Object(n.useState)(t),s=Object(m.a)(c,2),o=s[0],i=s[1],l=function(e){if("default"!==t.user){var a=e.target,n=a.name;i(Object(N.a)(Object(N.a)({},o),{},Object(vt.a)({},n,a.value)))}},u=Object(n.useState)(!1),p=Object(m.a)(u,2),f=p[0],d=p[1],b=function(){var e=Object(w.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Dt(t.user,o.name,o.web,o.desc,x);case 3:if(!e.sent){e.next=9;break}Rt.NotificationManager.success("Usuario editado con \xe9xito","Editado",5e3),a(o),j(null),e.next=10;break;case 9:Rt.NotificationManager.error("No se ha podido editar el usuario, vuelva a intentarlo m\xe1s tarde.","Error",5e3);case 10:d(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(n.useState)(null),v=Object(m.a)(h,2),x=v[0],j=v[1];return r.a.createElement("div",{className:"content-edit-profile"},r.a.createElement("div",{className:"content-indicators-inputs"},r.a.createElement("div",{className:"content-indicator-input"},r.a.createElement("p",{className:"indicator"},"Nombre de usuario"),r.a.createElement("input",{type:"text",className:"input-edit disabled",value:t.user,disabled:!0})),r.a.createElement("div",{className:"content-indicator-input"},r.a.createElement("p",{className:"indicator"},"Foto de perfil"),r.a.createElement("img",{src:o.picture,alt:"pic-profile",className:"perfil-img"}),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"upload-profile",className:"button follow"},"Editar foto de perfil"),r.a.createElement("input",{type:"file",id:"upload-profile",className:"invisible",accept:"image/x-png,image/gif,image/jpeg",onChange:function(e){var t=URL.createObjectURL(e.target.files[0]);j(e.target.files[0]),i(Object(N.a)(Object(N.a)({},o),{},{picture:t}))}}))),r.a.createElement("div",{className:"content-indicator-input"},r.a.createElement("p",{className:"indicator"},"Nombre"),r.a.createElement("input",{type:"text",className:"input-edit",value:o.name,name:"name",onChange:l})),r.a.createElement("div",{className:"content-indicator-input"},r.a.createElement("p",{className:"indicator"},"Biograf\xeda"),r.a.createElement("input",{type:"text",className:"input-edit",name:"desc",value:o.desc,onChange:l})),r.a.createElement("div",{className:"content-indicator-input"},r.a.createElement("p",{className:"indicator"},"Sitio web"),r.a.createElement("input",{type:"text",className:"input-edit",name:"web",value:o.web,onChange:l}))),"default"===t.user?r.a.createElement("div",{className:"no-edit-default"},r.a.createElement("div",null,r.a.createElement("p",null,"El usuario por default no se puede editar, ingresa en otra cuenta para poder editar.")),r.a.createElement(M.b,{to:"/"+t.user},r.a.createElement("button",{className:"button unfollow"},"Volver"))):r.a.createElement("div",{className:"content-buttons-edit"},r.a.createElement("button",{onClick:function(){return b()},className:"button follow"},f?r.a.createElement(F,null):"Guardar"),r.a.createElement(M.b,{to:"/"+t.user},r.a.createElement("button",{className:"button unfollow"},"Volver"))),r.a.createElement(Rt.NotificationContainer,null))}a(168);qe.a.locale(Ke.a);var Pt=function(){var e=Object(n.useState)(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches||!1),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(g),o=s.profile,i=s.setProfile,u=Object(n.useState)(null),p=Object(m.a)(u,2),f=p[0],d=p[1],b=function(e){return d(e)},h=Object(n.useState)(Object(l.i)()),v=Object(m.a)(h,2),x=v[0],j=v[1],k=function(e){i(null),j(e)},O=function(){var e=Object(w.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,xt(x.email);case 3:if(t=e.sent){e.next=9;break}A(!1),i("none"),e.next=14;break;case 9:return e.next=11,Y(t.user);case 11:a=e.sent,i(Object(N.a)(Object(N.a)({},t.data),{},{user:t.user,picture:a})),A(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=Object(n.useState)(!1),S=Object(m.a)(y,2),C=S[0],A=S[1];return C?r.a.createElement(F,{allpage:!0,dark:a}):x&&o&&"none"!==o?r.a.createElement("div",{className:a?"dark":"light"},r.a.createElement(M.a,{basename:"/"},null!==f?r.a.createElement("div",{className:"content-app"},r.a.createElement("div",{className:"app"},r.a.createElement(gt,{setImg:b,img:f}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,{setImg:b,setMode:function(){return c(!a)}}),r.a.createElement("div",{className:"content-app"},r.a.createElement("div",{className:"app"},r.a.createElement(pe.d,null,r.a.createElement(pe.b,{exact:!0,path:"/addPost",component:gt}),r.a.createElement(pe.b,{exact:!0,path:"/notifications",component:et}),r.a.createElement(pe.b,{exact:!0,path:"/comments/:id",component:$e}),r.a.createElement(pe.b,{exact:!0,path:"/search"},r.a.createElement(Be,{construction:!0})),r.a.createElement(pe.b,{exact:!0,path:"/explore"},r.a.createElement(Be,{construction:!0})),r.a.createElement(pe.b,{exact:!0,path:"/directs"},r.a.createElement(lt,null)),r.a.createElement(pe.b,{exact:!0,path:"/likes/:id"},r.a.createElement(tt,{likes:!0})),r.a.createElement(pe.b,{exact:!0,path:"/posts/:id",component:Ze}),r.a.createElement(pe.b,{exact:!0,path:"/follows/:user"},r.a.createElement(tt,{follows:!0})),r.a.createElement(pe.b,{exact:!0,path:"/followers/:user"},r.a.createElement(tt,{followers:!0})),r.a.createElement(pe.b,{exact:!0,path:"/login"},r.a.createElement(pe.a,{to:"/"})),r.a.createElement(pe.b,{exact:!0,path:"/signup"},r.a.createElement(pe.a,{to:"/"})),r.a.createElement(pe.b,{exact:!0,path:"/account/edit"},r.a.createElement(Gt,null)),r.a.createElement(pe.b,{exact:!0,path:"/:user"},r.a.createElement(Ye,{handleLogoutUser:function(){Nt.a.auth().signOut(),j(null),i(null)}})),r.a.createElement(pe.b,{exact:!0,path:"/",component:Te})),r.a.createElement("p",{className:"footer"},"\xa9 2020 PUPIGRAM DESARROLLADO POR"," ",r.a.createElement("a",{href:"https://www.linkedin.com/in/pupimarti/",target:"_blank",rel:"noopener noreferrer"},"JUAN A. MART\xcd"))))))):(x&&!o&&O(),r.a.createElement(M.a,{basename:"/"},r.a.createElement(pe.d,null,r.a.createElement(pe.b,{exact:!0,path:"/login"},r.a.createElement(wt,{user:x,setUser:k,setProfile:i})),r.a.createElement(pe.b,{exact:!0,path:"/signup"},r.a.createElement(It,{user:x,setUser:k,setProfile:i})),r.a.createElement(pe.a,{to:"/login"}))))};i.a.initializeApp(u),pt(),s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{firebaseConfig:u},r.a.createElement(n.Suspense,{fallback:r.a.createElement(F,{allpage:!0,dark:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches||!1})},r.a.createElement(h,null,r.a.createElement(Pt,null))))),document.getElementById("root"))}],[[95,1,2]]]);
//# sourceMappingURL=main.47cdcb8f.chunk.js.map