{"version":3,"sources":["img/verify.svg","img/heart-selected.svg","img/account.svg","img/pupigram.png","img/heart.svg","img/chat.svg","img/direct.svg","components/NavBar/Buttons/home.svg","components/NavBar/Buttons/home-select.svg","components/NavBar/Buttons/search.svg","components/NavBar/Buttons/add.svg","components/NavBar/Buttons/direct-select.svg","components/User/posts.svg","components/Directs/newmessage.svg","img/default.jpg","firebase-config.js","components/Context/AppContext.js","components/Loading/index.js","components/services/addNotif.js","components/services/addFollow.js","components/services/unfollow.js","components/services/getUser.js","components/ButtonFollow/index.js","components/services/getImgUser.js","components/services/deleteImgUserStorage.js","components/Notification/index.js","components/services/getNotif.js","components/services/getImgPost.js","components/NavBar/Buttons/notifs/notif.js","components/services/setNotif.js","components/NavBar/Buttons/directsIcon/index.js","components/services/getDirectsUnread.js","components/NavBar/Buttons/index.js","components/NavBar/SwitchMode/index.js","components/NavBar/index.js","components/Post/Comment/index.js","components/Post/Like/index.js","components/services/deletePost.js","components/Post/Options/index.js","components/services/getImgsPost.js","components/Post/Img/index.js","components/services/likePost.js","components/services/commentPost.js","components/Post/index.js","components/services/getPosts.js","components/List/index.js","components/NoPage/index.js","components/User/index.js","components/PostId/Comment/index.js","components/services/getPost.js","components/PostId/index.js","components/CommentsPost/index.js","components/MobileNotif/index.js","components/ViewFollows/index.js","components/Directs/Direct/index.js","components/services/sendMessage.js","components/Directs/Chat/index.js","components/services/getChatUser.js","components/Directs/New/User/index.js","components/Directs/New/index.js","components/Directs/index.js","components/services/setDirectsUnread.js","components/services/getDirects.js","components/services/addDirectChat.js","components/services/uploadImg.js","components/services/newPost.js","components/AddPost/index.js","components/Login/index.js","components/services/getUserMail.js","components/services/newUser.js","components/SignUp/index.js","components/services/editProfile.js","components/EditProfile/index.js","App.js","index.js"],"names":["module","exports","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Context","React","createContext","AppContextProvider","children","useState","profile","setProfile","notif_json","notifs","setNotifs","posts_json","posts","setPosts","directs_json","directs","setDirects","Provider","value","Loading","props","className","return_class","allpage","dark","classname","addNotif","user","type","user_send","post","comment","db","firebase","firestore","result","notif","time","Timestamp","fromDate","Date","collection","doc","update","FieldValue","arrayUnion","visualized","then","catch","e","console","log","addFollow","user_follow","a","follows","followers","unfollow","user_unfollow","arrayRemove","getUser","return_user","get","exists","user_min","data","id","error","ButtonFollow","follow","setFollow","useEffect","isfollow","length","i","isFollowing","handleSetFollow","actual","setFollowers","onClick","getImgUser","return_img","storage_users","localStorage","getItem","img_users","JSON","parse","forEach","u","url","storage","ref","getDownloadURL","user_img","push","setItem","stringify","deleteImgUserStorage","new_array","Notification","useContext","setUser","get_user","to","src","alt","onError","account","getMessageNotification","ReactTimeAgo","date","timeStyle","locale","img","getNotif","reverse","vizualized","getImgPost","child","res","Notif","NotifContext","open","setOpen","setNotif","asyncForEach","array","callback","index","_notifs","n","get_notifs","path","heartSelect","heart","setNotifsContext","arr_notifs","setNotifV","map","Fragment","key","toDate","DirectsIcon","messages","cant","read","getDirectsUnread","context","pc","pathDirect","directSelect","direct","Buttons","substr","window","innerWidth","pathHome","pathSearch","pathAccount","homeSelect","home","search","htmlFor","add","multiple","onChange","file","f","target","files","setImg","accept","picture","SwitchMode","setMode","role","aria-label","NavBar","useLocation","pathname","pupigram","pathExplore","Comment","setComment","input","setInput","focus","handleSend","send","onKeyDown","placeholder","message","disabled","Like","animation","setAnimation","like","isLike","getClassName","setlike","heartSelected","onAnimationEnd","deletePost","delete","Options","handleCloseModal","delete_post","confirm","alert","ReactModal","setAppElement","isOpen","onRequestClose","overlayClassName","href","rel","text","onCopy","getImgsPost","storage_imgs","img_posts","p","urls","listAll","getUrls","items","imgs","post_imgs","return_urls","itemRef","Img","setImgs","the_imgs","get_imgs","onDoubleClick","handleClickLikeImg","likeImg","showIndicators","emulateTouch","swipeable","showThumbs","showStatus","likePost","user_post","likes","commentPost","the_comment","comments","Post","setLikes","setlikeImg","indexOf","handleLikeImg","val","showMore","setShowMore","commentsUser","setCommentsUser","verify","Intl","NumberFormat","format","desc","substring","c","getPosts","arr_posts","where","orderBy","querySnapshot","List","setData","PostsContext","list_posts","get_posts","NoPage","construction","User","UserContext","userPath","sumFollowers","setSumFollowers","getData","img_profile","img_post","stats","handleLogoutUser","name","web","posts_icon","getPost","return_post","post_","PostId","postId","setLike","addComment","picture_user","imgs_post","get_post","isMobile","CommentsPost","get_stats_post","MobileNotif","ViewFollows","UsersContext","get_user_follows","users_follws","arr_followers","get_users","Array","isArray","Direct","sendMessage","user_direct","setDirectsContext","arr_directs","d","own","Chat","setMessages","arr_msg","getChatUser","addChat","handleSendMessage","setNewChat","back","m","select","New","users","userContext","setFollows","setSelect","setViewDirect","Directs","viewDirect","newChat","handleSetViewDirect","setDirectsRead","directs_","getDirects","newMessage","addDirectChat","uploadImg","return_result","put","newPost","uploadImgs","AddPost","page","setPage","setDesc","loading","setLoading","handleSig","URL","createObjectURL","LogIn","handleSetLoading","password","handleInputChange","handleLogInAnonymus","preventDefault","auth","signInWithEmailAndPassword","r","setError","handleLogIn","handleLogInGoogle","provider","GoogleAuthProvider","signInWithPopup","onSubmit","code","getError","getUserMail","mail","email","createUser","photo","default_img","fetch","blob","createProfileUser","set","createNotifsUser","SignUp","displayName","handleSetData","remove_symbols","slice","replace","toLowerCase","handleOnClick","photoURL","createUserWithEmailAndPassword","handleOnClickGoogle","editProfile","merge","EditProfile","Profile","handleChange","NotificationManager","success","url_img","JavascriptTimeAgo","es","App","matchMedia","matches","mode","setNewPost","handleSetImgNewPost","useUser","handleSetUser","getAccount","basename","exact","component","signOut","initializeApp","configFb","ReactDOM","render","StrictMode","firebaseConfig","fallback","document","getElementById"],"mappings":"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","file":"static/js/main.47cdcb8f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/verify.c884f427.svg\";","module.exports = __webpack_public_path__ + \"static/media/heart-selected.f2610513.svg\";","module.exports = __webpack_public_path__ + \"static/media/account.71672f0b.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/heart.7746f5e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/chat.0ec68f32.svg\";","module.exports = __webpack_public_path__ + \"static/media/direct.c26fe294.svg\";","module.exports = __webpack_public_path__ + \"static/media/home.6f087f95.svg\";","module.exports = __webpack_public_path__ + \"static/media/home-select.8b41ca2e.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.c4127766.svg\";","module.exports = __webpack_public_path__ + \"static/media/add.c817e915.svg\";","module.exports = __webpack_public_path__ + \"static/media/direct-select.382f1e7d.svg\";","module.exports = __webpack_public_path__ + \"static/media/posts.98f1578e.svg\";","module.exports = __webpack_public_path__ + \"static/media/newmessage.2927f8de.svg\";","module.exports = __webpack_public_path__ + \"static/media/default.a04d849c.jpg\";","export default {\r\n    apiKey: \"AIzaSyAhWJ6CzJL3kLcJvZB2nsN-aodarnn7iFc\",\r\n    authDomain: \"pupigram.firebaseapp.com\",\r\n    databaseURL: \"https://pupigram.firebaseio.com\",\r\n    projectId: \"pupigram\",\r\n    storageBucket: \"pupigram.appspot.com\",\r\n    messagingSenderId: \"1045620088441\",\r\n    appId: \"1:1045620088441:web:b5a23d41d8147f503a3ea8\",\r\n    measurementId: \"G-4EG95KM5H2\"\r\n  }","import React, {useState} from 'react';\r\nimport notif_json from 'DB/notif.json';\r\nimport posts_json from 'DB/posts.json';\r\nimport directs_json from 'DB/directs.json';\r\n\r\nconst Context = React.createContext ({});\r\n\r\nexport function AppContextProvider({children}){\r\n    const [profile, setProfile] = useState(null);\r\n    const [notifs, setNotifs] = useState(notif_json);\r\n    const [posts, setPosts] = useState(posts_json);\r\n    const [directs, setDirects] = useState(directs_json);\r\n    return (\r\n    <Context.Provider value={{profile, setProfile, notifs, setNotifs, posts, setPosts, directs, setDirects}}>\r\n        {children}\r\n    </Context.Provider>\r\n    );\r\n}\r\n\r\nexport default Context;","import React from 'react'\r\nimport './css.css'\r\n\r\nexport default function Loading(props) {\r\n\r\n\r\n    const classname = () => {\r\n        let return_class = \"content-loading\";\r\n        if(props.allpage) return_class+= \" content-loading-allpage\"\r\n        if(props.dark) return_class+= \" dark-loading\"\r\n        return return_class;\r\n    }\r\n\r\n    return(\r\n        <div className={classname()}>\r\n            <div className=\"loadingio-spinner-spinner-0weqdade60oe\"><div className=\"ldio-wghgll2tit8\">\r\n            <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\r\n            </div></div>\r\n        </div>\r\n    )\r\n}\r\n","import firebase from 'firebase';\r\nimport 'firebase/firestore';\r\n\r\nexport default function addNotif(user, type, user_send, post = null, comment = null) {\r\n    if(user === user_send) return true;\r\n    const db = firebase.firestore();\r\n    let result = null;\r\n    let notif = {\r\n        user_send,\r\n        type,\r\n        time: firebase.firestore.Timestamp.fromDate(new Date())\r\n    }\r\n    if(post)\r\n        notif.post = post;\r\n    if(comment)\r\n        notif.comment = comment;\r\n\r\n    db.collection('notif').doc(user)\r\n    .update({\r\n        notifs: firebase.firestore.FieldValue.arrayUnion(notif),\r\n        visualized: false\r\n    })\r\n    .then(() => result = true)\r\n    .catch((e) => console.log(e))\r\n    \r\n    return result;\r\n}","import firebase from 'firebase';\r\nimport 'firebase/firestore';\r\nimport addNotif from './addNotif';\r\n\r\nexport default async function addFollow(user, user_follow) {\r\n    const db = firebase.firestore();\r\n    let result = null;\r\n    try {\r\n        await db.collection('users').doc(user)\r\n        .update({\r\n            follows: firebase.firestore.FieldValue.arrayUnion(user_follow)\r\n        });\r\n        await db.collection('users').doc(user_follow)\r\n        .update({\r\n            followers: firebase.firestore.FieldValue.arrayUnion(user)\r\n        });\r\n        addNotif(user_follow, \"follow\", user);\r\n        result = true;\r\n    } catch (e) {\r\n        result = false;\r\n        console.log(\"Error getting documents: \", e);\r\n    }\r\n    \r\n    return result;\r\n}","import firebase from 'firebase';\r\nimport 'firebase/firestore';\r\n\r\nexport default async function unfollow(user, user_unfollow) {\r\n    const db = firebase.firestore();\r\n    let result = null;\r\n    try {\r\n        await db.collection('users').doc(user)\r\n        .update({\r\n            follows: firebase.firestore.FieldValue.arrayRemove(user_unfollow)\r\n        });\r\n        await db.collection('users').doc(user_unfollow)\r\n        .update({\r\n            followers: firebase.firestore.FieldValue.arrayRemove(user)\r\n        });\r\n        result = true;\r\n    } catch (e) {\r\n        result = false;\r\n        console.log(\"Error getting documents: \", e);\r\n    }\r\n    \r\n    return result;\r\n}","import firebase from 'firebase';\r\nimport 'firebase/firestore';\r\n\r\nexport default async function getUser(user) {\r\n    const db = firebase.firestore();\r\n    let return_user = null;\r\n    await db.collection('users').doc(user)\r\n    .get()\r\n    .then(function(doc) {\r\n        if(doc.exists){\r\n            let user_min = doc.data();\r\n            user_min.user = doc.id;\r\n            return_user = user_min;\r\n        }\r\n        else{\r\n            return_user = null;\r\n        }\r\n    })\r\n    .catch(function(error) {\r\n        console.log(\"Error getting documents: \", error);\r\n        return_user = null;\r\n    });\r\n    return return_user;\r\n}","import React, {useState, useEffect} from 'react';\r\nimport './css.css'\r\nimport Loading from 'components/Loading';\r\nimport addFollow from 'components/services/addFollow';\r\nimport unfollow from 'components/services/unfollow';\r\nimport getUser from 'components/services/getUser';\r\n\r\nexport default function ButtonFollow(props) {\r\n    const [follow, setFollow] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const isFollowing = async () => {\r\n            const user = await getUser(props.user);\r\n            let isfollow = false;\r\n            if(user.follows.length > 0){\r\n                for(let i = 0; i < user.follows.length; i++){\r\n                    if(user.follows[i] === props.user_follow)\r\n                     isfollow = true;\r\n                }\r\n            }\r\n            setFollow(isfollow);\r\n        }\r\n    \r\n        if(follow === null)\r\n            isFollowing();\r\n\r\n    }, [props, follow])\r\n\r\n    \r\n    const handleSetFollow = async () => {\r\n        let result = null;\r\n        let actual = follow;\r\n        setFollow('loading');\r\n        if(!actual)\r\n            result = await addFollow(props.user, props.user_follow);\r\n        else\r\n            result = await unfollow(props.user, props.user_follow);\r\n\r\n        if(result){\r\n            if(props.setFollowers)\r\n                props.setFollowers(!actual);\r\n            setFollow(!actual);\r\n        }\r\n    }\r\n\r\n    if(props.user_follow === props.user) return null;\r\n\r\n    if(follow === null || follow === 'loading')\r\n        return <button className=\"button unfollow\"><Loading /></button>\r\n  \r\n    if(follow === true)\r\n        return <button onClick={handleSetFollow} className=\"button unfollow no-select\">Siguiendo</button>\r\n    else{\r\n        return <button onClick={handleSetFollow} className=\"button follow no-select\">Seguir</button>\r\n    }\r\n            \r\n}\r\n","import firebase from \"firebase\";\r\nimport \"firebase/storage\";\r\n\r\nexport default async function getImgUser(user) {\r\n  let return_img = null;\r\n  const storage_users = localStorage.getItem(\"img_users\");\r\n  let img_users = JSON.parse(storage_users);\r\n  if (\r\n    img_users &&\r\n    img_users.forEach((u) => {\r\n      if (u.user === user) {\r\n        return_img = u.url;\r\n        return;\r\n      }\r\n    })\r\n  );\r\n  if (!return_img) {\r\n    const storage = firebase.storage();\r\n    await storage\r\n      .ref(\"users/\" + user)\r\n      .getDownloadURL()\r\n      .then(function (url) {\r\n        const user_img = { user, url };\r\n        const storage_users = localStorage.getItem(\"img_users\");\r\n        let img_users = JSON.parse(storage_users);\r\n        if (!img_users) img_users = [];\r\n        img_users.push(user_img);\r\n        localStorage.setItem(\"img_users\", JSON.stringify(img_users));\r\n        return_img = url;\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"No se pudo encontrar la imagen de perfil de \", user);\r\n        console.log(error);\r\n        return_img = null;\r\n      });\r\n  }\r\n  return return_img;\r\n}\r\n","export default function deleteImgUserStorage(user){\r\n  const storage_users = localStorage.getItem(\"img_users\");\r\n  let new_array = [];\r\n  let img_users = JSON.parse(storage_users);\r\n  if (img_users){\r\n    img_users.forEach((u) => {\r\n      if (u.user !== user) \r\n          new_array.push(u);\r\n    });\r\n    localStorage.setItem(\"img_users\", JSON.stringify(new_array));\r\n}\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport account from \"img/account.svg\";\r\nimport ReactTimeAgo from \"react-time-ago\";\r\nimport ButtonFollow from \"components/ButtonFollow\";\r\nimport \"./css.css\";\r\nimport getImgUser from \"components/services/getImgUser\";\r\nimport Context from \"components/Context/AppContext\";\r\nimport deleteImgUserStorage from \"components/services/deleteImgUserStorage\";\r\n\r\nexport default function Notification(props) {\r\n  const getMessageNotification = () => {\r\n    switch (props.type) {\r\n      case \"follow\":\r\n        return \"ha comenzado a seguirte.\";\r\n      case \"like\":\r\n        return \"le ha gustado tu foto.\";\r\n      case \"comment\":\r\n        return \"ha comentado: \" + props.comment;\r\n      case \"name\":\r\n        return \"\";\r\n      default:\r\n        return \"no se ha detectado el tipo de notificación.\";\r\n    }\r\n  };\r\n\r\n  const { profile } = useContext(Context);\r\n\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      const get_user = async () => {\r\n        const u = await getImgUser(props.user);\r\n        setUser(u);\r\n      };\r\n      get_user();\r\n    }\r\n  }, [props.user, user, setUser]);\r\n\r\n  return (\r\n    <div className=\"content-notification\">\r\n      <div className=\"notif\">\r\n        <Link to={\"/\" + props.user} className=\"content-img-username\">\r\n          {user ? (\r\n            <img\r\n              className=\"img-account\"\r\n              src={user}\r\n              alt=\"profile_picture\"\r\n              onError={() => deleteImgUserStorage(props.user)}\r\n            />\r\n          ) : (\r\n            <img className=\"default-img\" src={account} alt=\"profile_picture\" />\r\n          )}\r\n        </Link>\r\n        <p className=\"user-account\">\r\n          {props.type === \"like\" && <span className=\"msj-notif\">A </span>}\r\n          <Link to={\"/\" + props.user}>{props.user}</Link>{\" \"}\r\n          <span className=\"msj-notif\">{getMessageNotification()}</span>\r\n          <span className=\"time-notif\">\r\n            {\" \"}\r\n            {props.time && (\r\n              <ReactTimeAgo\r\n                date={new Date(props.time)}\r\n                timeStyle=\"twitter\"\r\n                locale=\"es\"\r\n              />\r\n            )}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      {props.type === \"like\" || props.type === \"comment\" ? (\r\n        <Link to={\"/posts/\" + props.post}>\r\n          <img\r\n            src={props.img}\r\n            className=\"img-notification\"\r\n            alt=\"imagen de la publicacion\"\r\n          />\r\n        </Link>\r\n      ) : (\r\n        <ButtonFollow user={profile.user} user_follow={props.user} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/* import notif from 'components/notif.json'; */\r\nimport firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\n\r\n\r\nexport default async function getNotif(user){\r\n    var notifs = null;\r\n\r\n    /* for(var n of notif)\r\n        if(n.user === user)\r\n            notifs = n */\r\n    const db = firebase.firestore();\r\n    await db\r\n        .collection(\"notif\")\r\n        .doc(user)\r\n        .get()\r\n        .then((doc) => {\r\n        if (doc.exists) {\r\n            let notif = doc.data();\r\n            notif.notifs.reverse();\r\n            notif.vizualized = true;\r\n            notifs = notif;\r\n            db.collection('notif').doc(user)\r\n            .update({\r\n                visualized: true\r\n            });\r\n        } else {\r\n            console.log(\"no existe el usuario\");\r\n            notifs = null;\r\n        }\r\n        })\r\n        .catch((e) => {\r\n        console.log(e);\r\n        notifs = null;\r\n        });\r\n\r\n            \r\n    return notifs;\r\n}","import firebase from 'firebase';\r\nimport 'firebase/storage';\r\n\r\nexport default async function getImgPost (post){\r\n    const storage = firebase.storage();\r\n    let return_img = null;\r\n    \r\n    await storage.ref('posts/'+post).child('0').getDownloadURL()\r\n    .then(function(res) {\r\n        return_img = res;\r\n    })\r\n    .catch(function(error) {\r\n        console.log('no se encontraron las imagenes del post')\r\n        console.log(error);\r\n        return_img = null;\r\n    });\r\n\r\n    return return_img;\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport heart from \"img/heart.svg\";\r\nimport heartSelect from \"img/heart-selected.svg\";\r\nimport Notification from \"components/Notification\";\r\nimport getNotif from \"components/services/getNotif\";\r\nimport { Link } from \"react-router-dom\";\r\nimport NotifContext from 'components/Context/AppContext';\r\nimport Loading from \"components/Loading\";\r\nimport \"./modal-notif.css\";\r\nimport setNotifV from \"components/services/setNotif\";\r\nimport getImgPost from \"components/services/getImgPost\";\r\n\r\nexport default function Notif(props) {\r\n  const {notifs, setNotifs} = useContext(NotifContext);\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const handleSetModal = () => {\r\n    setNotifV(notif, true, notifs, setNotifs);\r\n    setNotif('loading');\r\n    setOpen(!open)\r\n  };\r\n\r\n\r\n  const [notif, setNotif] = useState(null);\r\n\r\n  const user = props.user;\r\n\r\n  useEffect(() => {\r\n    const get_notifs = async () => {\r\n      const _notifs = await getNotif(user);\r\n      if(_notifs){\r\n        await asyncForEach(_notifs.notifs, async (n) => {\r\n          if (n.type === \"like\" || n.type === \"comment\") {\r\n            n.img = await getImgPost(n.post);\r\n          }\r\n        });\r\n      }\r\n      setNotif(_notifs);\r\n    };\r\n\r\n    async function asyncForEach(array, callback) {\r\n      for (let index = 0; index < array.length; index++) {\r\n        await callback(array[index], index, array);\r\n      }\r\n    }\r\n\r\n    if (notif === 'loading') get_notifs();\r\n  }, [notif, user]);\r\n\r\n    return (\r\n    <div className=\"content-heart\">\r\n      {props.path === \"/notifications\" ? (\r\n        <img\r\n          className=\"icon mobile notif-select\"\r\n          src={heartSelect}\r\n          alt=\"Notifications\"\r\n        />\r\n      ) : (\r\n        <Link to=\"/notifications\" className=\"mobile\">\r\n          <img className=\"icon mobile\" src={heart} alt=\"Notifications\" />\r\n          {notif && !notif.visualized &&\r\n            <div className=\"notif-alert\"></div>\r\n          }\r\n        </Link>\r\n      )}\r\n      <img\r\n        className={open ? \"notif-select icon pc\" : \"icon pc\"}\r\n        onClick={handleSetModal}\r\n        src={open ? heartSelect : heart}\r\n        alt=\"Notif\"\r\n      />\r\n      {notif && !notif.visualized &&\r\n            <div className=\"notif-alert pc\"></div>\r\n          }\r\n      {open &&\r\n      <div className=\"notif-triangulo\"></div>}\r\n\r\n      {open && <div className=\"content-notif pc\">\r\n        {notif === 'loading' ? <Loading />\r\n        : (notif &&\r\n          notif.notifs.map((n, i) => {\r\n            return (\r\n              <React.Fragment key={i}>\r\n                {i > 0 && <div className=\"divisor-notif\"></div>}\r\n                <Notification\r\n                  type={n.type}\r\n                  time={n.time.toDate()}\r\n                  post={n.post}\r\n                  comment={n.comment}\r\n                  img={n.img}\r\n                  user={n.user_send}\r\n                />\r\n              </React.Fragment>\r\n            );\r\n          }))}\r\n      </div>}\r\n    </div>\r\n  );\r\n}\r\n","export default function setNotif(notif, value, notifs, setNotifsContext){\r\n    var arr_notifs = notifs;\r\n    for(var u of arr_notifs){\r\n        if(u === notif){\r\n            u.visualized = value;\r\n            setNotifsContext(arr_notifs);\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}","import React, {useContext} from \"react\";\r\nimport direct from \"img/direct.svg\";\r\nimport directSelect from '../direct-select.svg';\r\nimport { Link } from \"react-router-dom\";\r\nimport getDirectsUnread from \"components/services/getDirectsUnread\";\r\n\r\nimport context from 'components/Context/AppContext';\r\n\r\nimport './css.css';\r\n\r\nexport default function DirectsIcon(props) {\r\n\r\n  const {directs} = useContext(context);\r\n\r\n  const messages = getDirectsUnread(\"default\", directs);\r\n\r\n\r\n  return (\r\n    <div className={props.pc ? \"content-icon-direct pc\" : \"content-icon-direct mobile\"}>\r\n        {messages > 0 && props.path !== props.pathDirect &&\r\n        <Link to={props.pathDirect} className=\"icon-direct-unreads\">\r\n            {messages}\r\n        </Link>\r\n        }\r\n      {props.path === props.pathDirect ? (\r\n        <img className=\"icon\" src={directSelect} alt=\"Direct\" />\r\n      ) : (\r\n        <Link to={props.pathDirect}>\r\n          <img className=\"icon\" src={direct} alt=\"Direct\" />\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","/* import directs from 'components/directs.json' */\r\n\r\nexport default function getDirectsUnread(user, directs){\r\n    var cant = 0;\r\n    for(var u of directs){\r\n        if(u.user === user){\r\n            for(var d of u.directs){\r\n                if(!d.read)\r\n                    cant++;\r\n            }\r\n            return cant;\r\n        }\r\n    }\r\n    return 0;\r\n}","import React, { useContext } from \"react\";\r\nimport home from \"./home.svg\";\r\nimport homeSelect from \"./home-select.svg\";\r\nimport Notif from \"./notifs/notif\";\r\nimport search from \"./search.svg\";\r\n/* import explore from \"./explore.svg\";\r\nimport exploreSelect from \"./explore-select.svg\"; */\r\nimport add from \"./add.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Directs from \"./directsIcon\";\r\nimport \"./css.css\";\r\nimport Context from \"components/Context/AppContext\";\r\nimport deleteImgUserStorage from \"components/services/deleteImgUserStorage\";\r\n\r\nexport default function Buttons(props) {\r\n  const path = props.path;\r\n\r\n  const { profile } = useContext(Context);\r\n\r\n  const handleChangeImage = (e) => {\r\n    var file = [];\r\n    for (var f = 0; f < e.target.files.length; f++)\r\n      file.push(e.target.files[f]);\r\n    props.setImg(file);\r\n  };\r\n\r\n  if (path.substr(0, 8) === \"/directs\" && window.innerWidth <= 800) return null;\r\n\r\n  const pathHome = props.pathHome;\r\n  const pathDirect = props.pathDirect;\r\n  const pathSearch = props.pathSearch;\r\n  /* const pathExplore = props.pathExplore; */\r\n  const pathAccount = \"/\" + profile.user;\r\n\r\n  return (\r\n    <div className=\"content-buttons\">\r\n      {path === pathHome ? (\r\n        <img className=\"icon\" src={homeSelect} alt=\"Home\" />\r\n      ) : (\r\n        <Link to={pathHome}>\r\n          <img className=\"icon\" src={home} alt=\"Home\" />\r\n        </Link>\r\n      )}\r\n      <Directs pc={true} path={path} pathDirect={pathDirect} />\r\n      <Link to={pathSearch}>\r\n        <img className=\"icon mobile\" src={search} alt=\"Search\" />\r\n      </Link>\r\n      <label htmlFor=\"file-upload\">\r\n        <img className=\"icon\" src={add} alt=\"Add\" />\r\n      </label>\r\n      <input\r\n        type=\"file\"\r\n        id=\"file-upload\"\r\n        multiple\r\n        className=\"invisible\"\r\n        onChange={handleChangeImage}\r\n        accept=\"image/x-png,image/gif,image/jpeg\"\r\n      />\r\n\r\n      {/* <Link to={pathExplore} className=\"pc\">\r\n        <img\r\n          className=\"icon pc\"\r\n          src={path === \"/explore\" ? exploreSelect : explore}\r\n          alt=\"explore\"\r\n        />\r\n      </Link> */}\r\n      <Notif user={profile.user} path={path} />\r\n      <Link to={pathAccount}>\r\n        <img\r\n          className=\"icon-account\"\r\n          src={profile.picture}\r\n          onError={() => deleteImgUserStorage(profile.user)}\r\n          alt=\"Cuenta\"\r\n        />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport './css.css'\r\n\r\nexport default function SwitchMode(props) {\r\n    \r\n    return (\r\n        <button className=\"switch-mode\" onClick={props.setMode}>\r\n            <span role=\"img\" className=\"moon\" aria-label=\"crescent moon\">🌙</span>\r\n            <span role=\"img\" className=\"sun\" aria-label=\"sun with face\">🌞</span>\r\n        </button>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport pupigram from \"img/pupigram.png\";\r\nimport Buttons from \"./Buttons\";\r\nimport SwitchMode from \"./SwitchMode\";\r\nimport Direct from \"./Buttons/directsIcon\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport \"./css.css\";\r\n\r\nexport default function NavBar(props) {\r\n  const path = useLocation().pathname;\r\n\r\n  \r\n  if (path.substr(0, 9) === \"/comments\") return null;\r\n\r\n\r\n  const pathHome = \"/\";\r\n  const pathDirect = \"/directs\";\r\n  const pathSearch = \"/search\";\r\n  const pathExplore = \"/explore\";\r\n\r\n  return (\r\n    <div className=\"content-navBar\">\r\n      <div className=\"content-app navbar no-select\">\r\n        <Direct path={path} pathDirect={pathDirect} />\r\n        <Link to=\"/\" className=\"c-logo\">\r\n          <img className=\"logo\" src={pupigram} alt=\"logo\" />\r\n        </Link>\r\n        <SwitchMode setMode={props.setMode} />\r\n        <Buttons \r\n        path={path}\r\n        pathHome={pathHome}\r\n        pathDirect={pathDirect}\r\n        pathSearch={pathSearch}\r\n        pathExplore={pathExplore}\r\n        setImg={props.setImg}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./css.css\";\r\n\r\nexport default function Comment(props) {\r\n  const [comment, setComment] = useState(\"\");\r\n  const handleChangeComment = (e) => {\r\n    setComment(e.target.value);\r\n  };\r\n\r\n  const [input, setInput] = useState(null);\r\n\r\n  useEffect(() => {\r\n      if(props.focus)\r\n        input && input.focus();\r\n  })\r\n\r\n  const handleSend = () => {\r\n    if(comment.length > 0){\r\n      props.send(comment);\r\n      setComment(\"\");\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter')\r\n      handleSend();\r\n  }\r\n\r\n  return (\r\n    <div className=\"comment-post\">\r\n      <div className=\"center-post content-comment\">\r\n        <input\r\n          ref={(i) => {setInput(i)}}\r\n          className=\"comment\"\r\n          value={comment}\r\n          onChange={handleChangeComment}\r\n          onKeyDown={handleKeyDown}\r\n          placeholder={props.message ? \"Envía un mensaje...\" : \"Añade un comentario...\"}\r\n        ></input>\r\n        <button\r\n          onClick={handleSend}\r\n          disabled={comment.length <= 0}\r\n          className={\r\n            comment.length > 0 ? \"action-comment\" : \"action-comment disabled\"\r\n          }\r\n        >\r\n          {props.message ? \"Enviar\" : \"Publicar\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect} from \"react\";\r\nimport \"./css.css\";\r\nimport heart from \"img/heart.svg\";\r\nimport heartSelected from \"img/heart-selected.svg\";\r\n\r\nexport default function Like(props) {\r\n\r\n    const [animation, setAnimation] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const hasAnimate = () => {\r\n            if(props.like === 'true' || props.like === 'false')\r\n                return false;\r\n            return true;\r\n        }\r\n        setAnimation(hasAnimate());\r\n    }, [props])\r\n\r\n\r\n    const isLike = () => {\r\n        if(props.like === 'true' || props.like === true)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    const handleClickLike = () => {\r\n        if(isLike())\r\n            props.setlike(false);\r\n        else\r\n            props.setlike(true);\r\n    }\r\n\r\n    const getClassName = () => {\r\n        var className = \"action\";\r\n        if(isLike())\r\n            className += \" like-selected\"\r\n        if(animation)\r\n            className += \" like-animation\"\r\n        return className;\r\n    }\r\n\r\n    return(\r\n        <img\r\n            className={getClassName()}\r\n            onClick={handleClickLike}\r\n            src={isLike() ? heartSelected : heart}\r\n            onAnimationEnd={() => setAnimation(false)}\r\n            alt=\"heart\"\r\n        />\r\n    )\r\n}\r\n","import firebase from 'firebase';\r\nimport 'firebase/firestore';\r\n\r\nexport default async function deletePost(post, user) {\r\n    let result = null;\r\n    const db = firebase.firestore();\r\n    await db.collection('posts').doc(post).delete()\r\n    .then(async () => {\r\n        await db.collection('users').doc(user).update({\r\n            posts: firebase.firestore.FieldValue.arrayRemove(post)\r\n        })\r\n        .then(() => {\r\n            result = true;\r\n        })\r\n    })\r\n    .catch((e) => { \r\n        result = false;\r\n        console.log(e)\r\n    });\r\n   \r\n    return result;\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport ReactModal from \"react-modal\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nimport \"./css.css\";\r\nimport Context from 'components/Context/AppContext';\r\nimport deletePost from \"components/services/deletePost\";\r\n\r\nexport default function Options(props) {\r\n  const [open, setOpen] = useState(false);\r\n  const handleCloseModal = () => setOpen(false);\r\n  const handleOpenModal = () => setOpen(true);\r\n\r\n  const {profile} = useContext(Context);\r\n\r\n  const handleCopyTextOk = () => {\r\n    handleCloseModal();\r\n    alert('Enlace copiado en el portapapeles.');\r\n  }\r\n\r\n  const delete_post = async () => {\r\n    if(window.confirm('Seguro que desea eliminar esta publicación?')){\r\n      if(await deletePost(props.id, profile.user))\r\n        alert('Publicación eliminada con éxito.');\r\n      else alert('Hubo un error al eliminar la publicación');\r\n      handleCloseModal();\r\n    }\r\n  }\r\n\r\n  ReactModal.setAppElement(\"#root\");\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"points\" onClick={handleOpenModal}>\r\n        <div className=\"point\"></div>\r\n        <div className=\"point\"></div>\r\n        <div className=\"point\"></div>\r\n      </div>\r\n      <ReactModal\r\n        isOpen={open}\r\n        onRequestClose={handleCloseModal}\r\n        className=\"Modal\"\r\n        overlayClassName=\"Overlay\"\r\n      >\r\n        <div className=\"modal\">\r\n          <a\r\n            href={\r\n              \"https://twitter.com/intent/tweet?text=https%3A%2F%2Fpupimarti.github.io%2Fpupigram%23%2Fposts%2F\" +\r\n              props.id\r\n            }\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            className=\"action-modal\"\r\n          >\r\n            Compartir\r\n          </a>\r\n\r\n          <CopyToClipboard text={\"https://pupimarti.github.io/pupigram/#/posts/\"+props.id}\r\n            onCopy={handleCopyTextOk}>\r\n            <div className=\"action-modal action-modal-bt\">Copiar enlace</div>\r\n          </CopyToClipboard>\r\n          \r\n          {props.user === profile.user &&\r\n          <div\r\n          className=\"action-modal action-modal-bt\"\r\n          onClick={delete_post}\r\n        >\r\n          Eliminar publicación\r\n        </div>}\r\n\r\n          <Link\r\n            to={\"/posts/\" + props.id}\r\n            className=\"action-modal action-modal-bt\"\r\n          >\r\n            Ir a la publicación\r\n          </Link>\r\n\r\n          <div\r\n            className=\"action-modal action-modal-bt\"\r\n            onClick={handleCloseModal}\r\n          >\r\n            Cancelar\r\n          </div>\r\n        </div>\r\n      </ReactModal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import firebase from \"firebase\";\r\nimport \"firebase/storage\";\r\n\r\nexport default async function getImgsPost(post) {\r\n  let return_img = null;\r\n  const storage_imgs = localStorage.getItem(\"img_posts\");\r\n  let img_posts = JSON.parse(storage_imgs);\r\n  if (\r\n    img_posts &&\r\n    img_posts.forEach((p) => {\r\n      if (p.post === post) {\r\n        return_img = p.urls;\r\n        return;\r\n      }\r\n    })\r\n  );\r\n  if (!return_img) {\r\n    const storage = firebase.storage();\r\n    await storage\r\n      .ref(\"posts/\" + post)\r\n      .listAll()\r\n      .then(async function (res) {\r\n        let imgs = await getUrls(res.items);\r\n        const post_imgs = { post, urls: imgs };\r\n        const storage_imgs = localStorage.getItem(\"img_posts\");\r\n        let img_posts = JSON.parse(storage_imgs);\r\n        if (!img_posts) img_posts = [];\r\n        img_posts.push(post_imgs);\r\n        localStorage.setItem(\"img_posts\", JSON.stringify(img_posts));\r\n        console.log('retorno de busuqeda')\r\n        return_img = imgs;\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"no se encontraron las imagenes del post\");\r\n        console.log(error);\r\n        return_img = null;\r\n      });\r\n  }\r\n  return return_img;\r\n}\r\n\r\nconst getUrls = async (items) => {\r\n  let return_urls = [];\r\n\r\n  await asyncForEach(items, async function (itemRef) {\r\n    // All the items under listRef.\r\n    await itemRef\r\n      .getDownloadURL()\r\n      .then((e) => {\r\n        return_urls.push(e);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  });\r\n\r\n  return return_urls;\r\n};\r\n\r\nasync function asyncForEach(array, callback) {\r\n  for (let index = 0; index < array.length; index++) {\r\n    await callback(array[index], index, array);\r\n  }\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport heart from \"img/heart-selected.svg\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\nimport './css.css';\r\nimport getImgsPost from 'components/services/getImgsPost';\r\nimport Loading from 'components/Loading';\r\n\r\nexport default function Img(props) {\r\n\r\n    const [imgs, setImgs] = useState('loading');\r\n\r\n    useEffect(() => {\r\n      const get_imgs = async () => {\r\n          const the_imgs = await getImgsPost(props.post);\r\n          setImgs(the_imgs);\r\n      }\r\n\r\n      if(imgs === 'loading')\r\n        get_imgs();\r\n\r\n    }, [imgs, props.post])\r\n\r\n    return (\r\n      <div className=\"content-img-post\" onDoubleClick={props.handleClickLikeImg}>\r\n      {props.likeImg !== null &&\r\n        (props.likeImg ? (\r\n          <img\r\n            className=\"like-img-post animation-like\"\r\n            src={heart}\r\n            alt=\"corazon\"\r\n          />\r\n        ) : (\r\n          <img\r\n            className=\"like-img-post animation-like1\"\r\n            src={heart}\r\n            alt=\"corazon\"\r\n          />\r\n        ))}\r\n      {imgs === 'loading'\r\n      ? <Loading />\r\n      : <Carousel showIndicators={imgs && imgs.length > 1} emulateTouch={true} swipeable={true} showThumbs={false} showStatus={false}>\r\n      {imgs && imgs.map((img, i) => \r\n          <div key={i} className=\"content-img\">\r\n          <img\r\n            className=\"img-post\"\r\n            src={img}\r\n            alt=\"Imagen de la publicación\"\r\n          />\r\n      </div>\r\n      )}\r\n    </Carousel>}\r\n    </div>\r\n    )\r\n}\r\n","import firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\nimport addNotif from \"./addNotif\";\r\n\r\nexport default async function likePost(user, post, user_post, value) {\r\n  const db = firebase.firestore();\r\n  let result = null;\r\n  try {\r\n    if (value) {\r\n      await db\r\n        .collection(\"posts\")\r\n        .doc(post)\r\n        .update({\r\n          likes: firebase.firestore.FieldValue.arrayUnion(user),\r\n        });\r\n    } else {\r\n      await db\r\n        .collection(\"posts\")\r\n        .doc(post)\r\n        .update({\r\n          likes: firebase.firestore.FieldValue.arrayRemove(user),\r\n        });\r\n    }\r\n    result = true;\r\n  } catch (e) {\r\n    result = false;\r\n    console.log(\"Error getting documents: \", e);\r\n  }\r\n\r\n  addNotif(user_post, \"like\", user, post);\r\n\r\n  return result;\r\n}\r\n","import firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\nimport addNotif from \"./addNotif\";\r\n\r\nexport default async function commentPost(user, post, comment, user_post) {\r\n  const db = firebase.firestore();\r\n  let result = null;\r\n  let the_comment = {\r\n    user,\r\n    comment,\r\n    time: firebase.firestore.Timestamp.fromDate(new Date()),\r\n  };\r\n  try {\r\n    await db\r\n      .collection(\"posts\")\r\n      .doc(post)\r\n      .update({\r\n        comments: firebase.firestore.FieldValue.arrayUnion(the_comment),\r\n      });\r\n    result = true;\r\n  } catch (e) {\r\n    result = false;\r\n    console.log(\"Error getting documents: \", e);\r\n  }\r\n\r\n  addNotif(user_post, \"comment\", user, post, comment);\r\n\r\n  return result;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./css.css\";\r\nimport account from \"img/account.svg\";\r\nimport comment from \"img/chat.svg\";\r\nimport Comment from \"./Comment\";\r\nimport Like from \"./Like\";\r\nimport verify from \"img/verify.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactTimeAgo from \"react-time-ago\";\r\nimport Options from \"./Options\";\r\nimport Img from \"./Img\";\r\nimport getImgUser from \"components/services/getImgUser\";\r\nimport likePost from \"components/services/likePost\";\r\nimport deleteImgUserStorage from \"components/services/deleteImgUserStorage\";\r\nimport commentPost from \"components/services/commentPost\";\r\n\r\nexport default function Post(props) {\r\n  const [likes, setLikes] = useState(props.likes.length);\r\n  const [likeImg, setlikeImg] = useState(null);\r\n  const [like, setlike] = useState(\r\n    props.likes.indexOf(props.profile.user) !== -1 ? \"true\" : \"false\"\r\n  );\r\n\r\n  const handleClickLikeImg = () => {\r\n    if (likeImg === null) setlikeImg(true);\r\n    else setlikeImg(!likeImg);\r\n    handleLikeImg(true);\r\n  };\r\n\r\n  const handleLikeImg = async (val) => {\r\n    if (val && (!like || like === \"false\")) {\r\n      setLikes(likes + 1);\r\n    }\r\n    if (!val && (like || like === \"true\")) {\r\n      setLikes(likes - 1);\r\n    }\r\n    setlike(val);\r\n    if (!(await likePost(props.profile.user, props.id, props.user, val))) {\r\n      console.log(\"no se pudo realizar el mg\");\r\n    }\r\n  };\r\n\r\n  const [showMore, setShowMore] = useState(false);\r\n  const handleShowMore = () => {\r\n    setShowMore(!showMore);\r\n  };\r\n\r\n  const [commentsUser, setCommentsUser] = useState([]);\r\n  const handleChangeCommentsUser = (c) => {\r\n    setCommentsUser([...commentsUser, c]);\r\n    commentPost(props.profile.user, props.id, c, props.user);\r\n  };\r\n\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      const get_user = async () => {\r\n        const u = await getImgUser(props.user);\r\n        setUser({ picture: u, verify: false, user: props.user });\r\n      };\r\n      get_user();\r\n    }\r\n  }, [props.user, user, setUser]);\r\n\r\n  return (\r\n    <div className=\"content-post\">\r\n      <div className=\"center-post header-post\">\r\n        <Link to={\"/\" + props.user} className=\"user-post\">\r\n          {user && user.picture ? (\r\n            <img\r\n              className=\"img-account\"\r\n              src={user.picture}\r\n              alt=\"account\"\r\n              onError={() => deleteImgUserStorage(props.user)}\r\n            />\r\n          ) : (\r\n            <img className=\"default-img\" src={account} alt=\"account\" />\r\n          )}\r\n          <p className=\"user-account\">{props.user}</p>\r\n          {props.verify && (\r\n            <img className=\"verify\" src={verify} alt=\"Verificado\" />\r\n          )}\r\n        </Link>\r\n        <Options id={props.id} user={props.user} />\r\n      </div>\r\n      <Img\r\n        likeImg={likeImg}\r\n        post={props.id}\r\n        handleClickLikeImg={handleClickLikeImg}\r\n      />\r\n      <div className=\"center-post actions-post\">\r\n        <Like like={like} setlike={handleLikeImg} />\r\n        <Link className=\"action pc\" to={\"/posts/\" + props.id}>\r\n          <img className=\"action-c\" src={comment} alt=\"comment\" />\r\n        </Link>\r\n        <Link className=\"action mobile\" to={\"/comments/\" + props.id}>\r\n          <img className=\"action-c\" src={comment} alt=\"comment\" />\r\n        </Link>\r\n      </div>\r\n      <Link to={\"/likes/\" + props.id} className=\"center-post likes-post\">\r\n        {new Intl.NumberFormat().format(likes)} Me gusta\r\n      </Link>\r\n      <div className=\"center-post description-post\">\r\n        <p>\r\n          <Link to={\"/\" + props.user} className=\"user-account\">\r\n            {props.user}\r\n          </Link>\r\n          {props.verify && (\r\n            <img className=\"verify\" src={verify} alt=\"Verificado\" />\r\n          )}{\" \"}\r\n          <span className=\"text-post\">\r\n            {props.desc.length > 100 ? (\r\n              showMore ? (\r\n                <span>{props.desc}</span>\r\n              ) : (\r\n                <span>\r\n                  {props.desc.substring(0, 100)}...{\" \"}\r\n                  <span className=\"show-more\" onClick={handleShowMore}>\r\n                    más\r\n                  </span>\r\n                </span>\r\n              )\r\n            ) : (\r\n              props.desc\r\n            )}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      {props.comments && props.comments.length > 0 && (\r\n        <div className=\"center-post\">\r\n          <Link to={\"/posts/\" + props.id} className=\"show-comments-post pc\">\r\n            {props.comments.length === 1\r\n              ? \"Ver \" + props.comments.length + \" comentario\"\r\n              : \"Ver los \" + props.comments.length + \"  comentarios\"}\r\n          </Link>\r\n          <Link\r\n            to={\"/comments/\" + props.id}\r\n            className=\"show-comments-post mobile\"\r\n          >\r\n            {props.comments.length === 1\r\n              ? \"Ver \" + props.comments.length + \" comentario\"\r\n              : \"Ver los \" + props.comments.length + \"  comentarios\"}\r\n          </Link>\r\n        </div>\r\n      )}\r\n      <div className=\"description-post center-post\">\r\n        {commentsUser.map((c, i) => (\r\n          <p key={i} className=\"comment-user-post\">\r\n            <Link to=\"/default\" className=\"user-account\">\r\n              default\r\n            </Link>{\" \"}\r\n            <span className=\"text-post\">{c}</span>\r\n          </p>\r\n        ))}\r\n      </div>\r\n      <p className=\"center-post time-post \">\r\n        <ReactTimeAgo date={new Date(props.time)} locale=\"es\" />\r\n      </p>\r\n      <div className=\"pc\">\r\n        <Comment send={handleChangeCommentsUser} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* import posts from 'components/posts.json' */\r\nimport firebase from 'firebase';\r\nimport 'firebase/firestore';\r\n\r\nexport default async function getPosts(user){\r\n    var arr_posts = [];\r\n    const db = firebase.firestore();\r\n    if(user){\r\n        await db.collection('posts').where(\"user\", \"==\", user).orderBy('time').get()\r\n        .then(function (querySnapshot) {\r\n            querySnapshot.forEach((doc) => {\r\n                let post = doc.data();\r\n                post.id = doc.id;\r\n                post.time = post.time.toDate();\r\n                arr_posts.push(post)\r\n            })})\r\n        .catch((e) => console.log(e)); \r\n    }\r\n    else{\r\n        await db.collection('posts').orderBy('time').get()\r\n        .then(function (querySnapshot) {\r\n            querySnapshot.forEach((doc) => {\r\n                let post = doc.data();\r\n                post.id = doc.id;\r\n                post.time = post.time.toDate();\r\n                arr_posts.push(post)\r\n            })})\r\n        .catch((e) => console.log(e)); \r\n    }\r\n\r\n    return arr_posts;\r\n}","import React, {useState, useEffect, useContext} from 'react';\r\nimport Post from 'components/Post';\r\nimport getPosts from 'components/services/getPosts';\r\nimport Loading from 'components/Loading';\r\nimport PostsContext from 'components/Context/AppContext';\r\n\r\nimport './css.css';\r\n\r\nexport default function List() {\r\n\r\n    const [data, setData] = useState('loading');\r\n\r\n    const {profile} = useContext(PostsContext);\r\n\r\n    useEffect(() => {\r\n        const get_posts = async () => {\r\n            var list_posts = await getPosts();\r\n            if(list_posts){\r\n                const p = list_posts.reverse();\r\n                setData(p);\r\n            }\r\n        }\r\n        if(data === 'loading')\r\n            get_posts();\r\n\r\n    }, [setData, data])\r\n    \r\n    if(data === 'loading') return <Loading />\r\n    return (\r\n        <React.Fragment>\r\n            {data && data.map((post) => {\r\n                return(\r\n                    <Post \r\n                    profile={profile}\r\n                    key={post.id}\r\n                    id={post.id}\r\n                    user={post.user}\r\n                    img={post.img}\r\n                    desc={post.desc}\r\n                    likes={post.likes}\r\n                    time={post.time}\r\n                    comments={post.comments}\r\n                    verify={post.verify}\r\n                    />\r\n                )\r\n                })}\r\n        </React.Fragment>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport './css.css'\r\n\r\nexport default function NoPage(props) {\r\n\r\n    return (\r\n        <div>\r\n        <p className=\"nouser\">Esta página no está disponible.</p>\r\n          {props.construction \r\n          ?<p className=\"nouser-desc\">Esta página aún se encuentra en construcción. <Link to=\"/\">Volver a Pupigram.</Link>\r\n          </p>\r\n          :<p className=\"nouser-desc\">Es posible que el enlace que has seguido sea incorrecto o que se haya\r\n          eliminado la página. <Link to=\"/\">Volver a Pupigram.</Link>\r\n          </p>}\r\n      </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport verify from \"img/verify.svg\";\r\nimport posts_icon from \"./posts.svg\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport NoPage from \"../NoPage\";\r\nimport \"./css.css\";\r\nimport getUser from \"components/services/getUser\";\r\nimport Loading from \"components/Loading\";\r\nimport UserContext from 'components/Context/AppContext';\r\nimport ButtonFollow from 'components/ButtonFollow';\r\nimport getImgUser from \"components/services/getImgUser\";\r\nimport getImgPost from \"components/services/getImgPost\";\r\n \r\nexport default function User(props) {\r\n\r\n  const {posts, profile} = useContext(UserContext);\r\n\r\n  const userPath = useLocation().pathname.substr(1);\r\n  const [data, setData] = useState('loading');\r\n\r\n  const [sumFollowers, setSumFollowers] = useState(0);\r\n  const handleSetFollowers = (value) => {\r\n      const prevState = sumFollowers;\r\n      if(value)\r\n        setSumFollowers(prevState + 1);\r\n      else  \r\n        setSumFollowers(prevState + -1);\r\n  }\r\n\r\n  async function asyncForEach(array, callback) {\r\n    for (let index = 0; index < array.length; index++) {\r\n      await callback(array[index], index, array);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n        const getData = async () => {\r\n          var user = await getUser(userPath);\r\n          if(user !== null){\r\n            const img_profile = await getImgUser(user.user);\r\n            let post_imgs = [];\r\n            if(user.posts)\r\n            {\r\n              await asyncForEach(user.posts, async (p) => {\r\n                const img_post = await getImgPost(p);\r\n                post_imgs.push({id:p, url: img_post});\r\n              });\r\n            }\r\n            user.posts = post_imgs;\r\n            user.picture = img_profile;\r\n            setData(user);\r\n          }else{\r\n            setData(null);\r\n          }\r\n        }\r\n\r\n      if(data && data.user !== userPath)\r\n        setData('loading');\r\n\r\n      if(data === 'loading')\r\n        getData();\r\n      \r\n  }, [userPath, posts, data, profile]);\r\n\r\n  if (data === null) return <NoPage />;\r\n  const stats = () => {\r\n    if (data.posts) {\r\n      return (\r\n        <React.Fragment>\r\n          <p className=\"stats-user no-select\">\r\n            <b>{data.posts.length}</b> publicacion\r\n            {data.posts.length !== 1 && \"es\"}\r\n          </p>\r\n          <Link to={\"/followers/\"+data.user} className=\"stats-user no-select\">\r\n            <b>{data.followers.length + sumFollowers}</b> seguidor\r\n            {(data.followers.length + sumFollowers) !== 1 && \"es\"}\r\n          </Link>\r\n          <Link to={\"/follows/\"+data.user} className=\"stats-user no-select\">\r\n            <b>{data.follows.length}</b> seguido\r\n            {data.follows.length !== 1 && \"s\"}\r\n          </Link>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  };\r\n\r\n  if (data === 'loading') return <Loading />;\r\n  return (\r\n    <div>\r\n      <header className=\"header-user\">\r\n        <div className=\"content-perfil-img\">\r\n          <img className=\"perfil-img\" src={data.picture} alt=\"perfil_picture\" />\r\n        </div>\r\n        <div className=\"content-info-user\">\r\n          <div className=\"info-user\">\r\n            <h2 className=\"username-user\">{data.user}</h2>\r\n            {data.verify && (\r\n              <img className=\"verify\" src={verify} alt=\"verify\" />\r\n            )}\r\n            {/* <div className=\"points\">\r\n                <div className=\"point\"></div>\r\n                <div className=\"point\"></div>\r\n                <div className=\"point\"></div>\r\n              </div> */}\r\n            <div className=\"content-follow-points\">\r\n            {profile && profile.user === userPath &&\r\n            <Link to=\"/account/edit\"><button className=\"button unfollow\">Editar perfil</button></Link>\r\n            }\r\n            {profile && profile.user === userPath &&\r\n            <button className=\"button unfollow\" onClick={() => props.handleLogoutUser()}>Cerrar sesión</button>\r\n            }\r\n            <ButtonFollow user={profile.user} user_follow={data.user} setFollowers={handleSetFollowers}/>\r\n\r\n          </div>\r\n            </div>\r\n          <div className=\"info-user stats pc\">{stats()}</div>\r\n          <div className=\"pc\">\r\n            <h4 className=\"username-name\">{data.name}</h4>\r\n            <p className=\"description-user\">{data.desc}</p>\r\n            <a\r\n              className=\"web-user\"\r\n              href={\"https://\" + data.web}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              {data.web}\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      <div className=\"content-user-description mobile\">\r\n        <h4 className=\"username-name\">{data.name}</h4>\r\n        <p className=\"description-user\">{data.desc}</p>\r\n        <a\r\n          className=\"web-user\"\r\n          href={data.web}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          {data.web}\r\n        </a>\r\n      </div>\r\n      <div className=\"info-user stats mobile\">{stats()}\r\n      </div>\r\n      <section className=\"posts-user\">\r\n        <div className=\"posts-user-public\">\r\n          <div className=\"content-public\">\r\n            <img className=\"icon\" src={posts_icon} alt=\"Publicaciones\" />\r\n            <p className=\"pc\">PUBLICACIONES</p>\r\n          </div>\r\n        </div>\r\n        {data.posts &&\r\n          data.posts.map((post) => {\r\n            return (\r\n              <Link\r\n                key={post.id}\r\n                to={\"/posts/\" + post.id}\r\n                className=\"post-user\"\r\n              >\r\n                <img src={post.url} alt=\"post\" />\r\n              </Link>\r\n            )\r\n          })}\r\n      </section>\r\n      {data.posts && data.posts.length === 0 && (\r\n        <p className=\"text-center\">Aún no hay publicaciones subidas.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect} from \"react\";\r\nimport ReactTimeAgo from \"react-time-ago\";\r\nimport { Link } from \"react-router-dom\";\r\nimport verify from \"img/verify.svg\";\r\nimport account from \"img/account.svg\";\r\nimport \"./css.css\";\r\nimport getImgUser from \"components/services/getImgUser\";\r\n\r\nexport default function Comment(props) {\r\n\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if(!user){\r\n      const get_user = async () => {\r\n        const u = await getImgUser(props.user);\r\n        setUser({user: props.user, picture: u, verify: false});\r\n      }\r\n      get_user();\r\n    }\r\n  }, [props.user, user, setUser]);\r\n\r\n\r\n  return (\r\n    <div className=\"content-comment-post-id center-post-id\">\r\n      <div className=\"content-user-post-id cpi\">\r\n        <Link to={\"/\" + props.user} className=\"content-img-username\">\r\n          {user && user.picture \r\n          ?<img\r\n            className=\"img-account\"\r\n            src={user.picture}\r\n            alt=\"profile_picture\"\r\n          />\r\n          :<img\r\n          className=\"default-img\"\r\n          src={account}\r\n          alt=\"profile_picture\"\r\n        />\r\n          }\r\n        </Link>\r\n        <p className=\"user-account\">\r\n          <Link to={\"/\" + props.user}>{props.user}</Link>{\" \"}\r\n          {user && user.verify && (\r\n            <img className=\"verify\" src={verify} alt=\"Verificado\" />\r\n          )}\r\n          &nbsp;\r\n          <span>{props.comment}</span>\r\n        </p>\r\n      <p className=\"time-post\">\r\n        <ReactTimeAgo date={new Date(props.time)} locale=\"es\" />\r\n      </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* import posts from 'components/posts.json' */\r\n\r\n/* export default function getPost(id, posts) {\r\n  for (var p of posts) {\r\n    if (p.id === id) return p;\r\n  }\r\n  return null;\r\n}\r\n */\r\nimport firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\n\r\nexport default async function getPost(post) {\r\n  let return_post = null;\r\n  const db = firebase.firestore();\r\n  await db\r\n    .collection(\"posts\")\r\n    .doc(post)\r\n    .get()\r\n    .then((doc) => {\r\n      if (doc.exists) {\r\n        let post_ = doc.data();\r\n        post_.id = doc.id;\r\n        post_.time = post_.time.toDate();\r\n        return_post = post_;\r\n      } else {\r\n        console.log(\"no existe el usuario\");\r\n        return_post = null;\r\n      }\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n      return_post = null;\r\n    });\r\n\r\n  return return_post;\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport ReactTimeAgo from \"react-time-ago\";\r\nimport comment from \"img/chat.svg\";\r\nimport heart from \"img/heart-selected.svg\";\r\nimport Comment from \"components/Post/Comment\";\r\nimport Like from \"components/Post/Like\";\r\nimport NoPage from \"components/NoPage\";\r\nimport verify from \"img/verify.svg\";\r\nimport CommentUser from \"./Comment\";\r\nimport Options from \"components/Post/Options\";\r\nimport Post from \"components/Post\";\r\n\r\nimport \"./css.css\";\r\n\r\nimport getPost from \"components/services/getPost\";\r\nimport Loading from \"components/Loading\";\r\nimport PostsContext from \"components/Context/AppContext\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport getImgUser from \"components/services/getImgUser\";\r\nimport likePost from \"components/services/likePost\";\r\nimport getImgsPost from \"components/services/getImgsPost\";\r\nimport commentPost from \"components/services/commentPost\";\r\n\r\nexport default function PostId() {\r\n  const postId = useLocation().pathname.substr(7);\r\n\r\n  const [data, setData] = useState(\"loading\");\r\n\r\n  const { profile } = useContext(PostsContext);\r\n\r\n  const [likes, setLikes] = useState(0);\r\n  const [likeImg, setlikeImg] = useState(null);\r\n  const [like, setLike] = useState(null);\r\n\r\n  const addComment = async (comment) => {\r\n    await commentPost(profile.user, data.id, comment, data.user);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const get_post = async () => {\r\n      const post = await getPost(postId);\r\n      if (post !== null) {\r\n        const u = await getImgUser(post.user);\r\n        post.picture_user = u;\r\n        const imgs_post = await getImgsPost(postId);\r\n        post.img = imgs_post;\r\n        setData(post);\r\n        setLike(\r\n          post.likes.indexOf(profile.user) !== -1 ? \"true\" : \"false\" || \"false\"\r\n        );\r\n        setLikes(post.likes.length);\r\n      } else setData(null);\r\n    };\r\n\r\n    if (data === \"loading\") get_post();\r\n  }, [postId, data, setLike, profile.user]);\r\n\r\n  const handleClickLikeImg = () => {\r\n    if (likeImg === null) setlikeImg(true);\r\n    else setlikeImg(!likeImg);\r\n    handleLikeImg(true);\r\n  };\r\n\r\n  const handleLikeImg = async (val) => {\r\n    if (val && (!like || like === \"false\")) {\r\n      setLikes(likes + 1);\r\n    }\r\n    if (!val && (like || like === \"true\")) {\r\n      setLikes(likes - 1);\r\n    }\r\n    setLike(val);\r\n    if (!(await likePost(profile.user, data.id, val))) {\r\n      console.log(\"no se pudo realizar el mg\");\r\n    }\r\n  };\r\n\r\n  const [commentsUser, setCommentsUser] = useState([]);\r\n  const handleChangeCommentsUser = (c) => {\r\n    addComment(c);\r\n    setCommentsUser([...commentsUser, c]);\r\n  };\r\n\r\n  //lo guardo en un state para que no cambie en cada renderizado\r\n  const [isMobile] = useState(window.innerWidth <= 800);\r\n\r\n  if (data === \"loading\") return <Loading />;\r\n\r\n  if (data === null) return <NoPage />;\r\n\r\n  if (isMobile)\r\n    return (\r\n      <Post\r\n        id={data.id}\r\n        user_img={data.picture_user}\r\n        user={data.user}\r\n        verify={data.verify}\r\n        img={data.img}\r\n        desc={data.desc}\r\n        likes={data.likes}\r\n        time={data.time}\r\n        comments={data.comments}\r\n        profile={profile}\r\n      />\r\n    );\r\n  return (\r\n    <div className=\"content-post-id\">\r\n      <div className=\"content-user-post-id center-post-id mobile\">\r\n        <Link to={\"/\" + data.user} className=\"content-img-username\">\r\n          <img\r\n            className=\"img-account\"\r\n            src={data.picture_user}\r\n            alt=\"profile_picture\"\r\n          />\r\n          <p className=\"user-account\">{data.user}</p>\r\n          {data.verify && (\r\n            <img className=\"verify\" src={verify} alt=\"Verificado\" />\r\n          )}\r\n        </Link>\r\n        <Options id={data.id} user={data.user} />\r\n      </div>\r\n      <div className=\"content-img-post-id\" onDoubleClick={handleClickLikeImg}>\r\n        {likeImg !== null &&\r\n          (likeImg ? (\r\n            <img\r\n              className=\"like-img-post animation-like\"\r\n              src={heart}\r\n              alt=\"corazon\"\r\n            />\r\n          ) : (\r\n            <img\r\n              className=\"like-img-post animation-like1\"\r\n              src={heart}\r\n              alt=\"corazon\"\r\n            />\r\n          ))}\r\n        <Carousel\r\n          showIndicators={data.img && data.img.length > 1}\r\n          emulateTouch={true}\r\n          swipeable={true}\r\n          showThumbs={false}\r\n          showStatus={false}\r\n        >\r\n          {data.img &&\r\n            data.img.map((img, i) => (\r\n              <div key={i} className=\"content-img\">\r\n                <img\r\n                  className=\"img-post\"\r\n                  src={img}\r\n                  alt=\"Imagen de la publicación\"\r\n                />\r\n              </div>\r\n            ))}\r\n        </Carousel>\r\n      </div>\r\n      <div className=\"content-info-post-id\">\r\n        <div className=\"content-user-post-id center-post-id pc\">\r\n          <Link to={\"/\" + data.user} className=\"content-img-username\">\r\n            <img\r\n              className=\"img-account\"\r\n              src={data.picture_user}\r\n              alt=\"profile_picture\"\r\n            />\r\n            <p className=\"user-account\">{data.user}</p>\r\n            {data.verify && (\r\n              <img className=\"verify\" src={verify} alt=\"Verificado\" />\r\n            )}\r\n          </Link>\r\n          <Options id={data.id} />\r\n        </div>\r\n        <div className=\"content-comments-post-id\">\r\n          <CommentUser\r\n            user={data.user}\r\n            picture_user={data.picture_user}\r\n            comment={data.desc}\r\n            time={data.time}\r\n            verify={data.verify}\r\n          />\r\n          {data.comments &&\r\n            data.comments.map((c, i) => {\r\n              return (\r\n                <CommentUser\r\n                  key={i}\r\n                  user={c.user}\r\n                  comment={c.comment}\r\n                  time={c.time.toDate()}\r\n                />\r\n              );\r\n            })}\r\n          {commentsUser &&\r\n            commentsUser.map((c, i) => {\r\n              return (\r\n                <CommentUser\r\n                  key={i}\r\n                  user={profile.user}\r\n                  comment={c}\r\n                  time={new Date()}\r\n                />\r\n              );\r\n            })}\r\n        </div>\r\n        <div className=\"content-likes-comment-post-id\">\r\n          <div className=\"center-post-id actions-post\">\r\n            <Like like={like} setlike={handleLikeImg} />\r\n            <img className=\"action\" src={comment} alt=\"comment\" />\r\n          </div>\r\n          <Link\r\n            to={\"/likes/\" + data.id}\r\n            className=\"center-post-id mb8 likes-post-id\"\r\n          >\r\n            Le{likes !== 1 && \"s\"} gusta a{\" \"}\r\n            <b>\r\n              {new Intl.NumberFormat().format(likes)} persona\r\n              {likes !== 1 && \"s\"}\r\n            </b>\r\n          </Link>\r\n          <p className=\"time-post mb8 center-post-id\">\r\n            <ReactTimeAgo date={new Date(data.time)} locale=\"es\" />\r\n          </p>\r\n          <Comment send={handleChangeCommentsUser} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport NoPage from \"../NoPage\";\r\nimport Comment from \"../Post/Comment\";\r\nimport CommentsUser from \"../PostId/Comment\";\r\nimport PostsContext from \"components/Context/AppContext\";\r\n\r\nimport './css.css'\r\nimport getPost from \"components/services/getPost\";\r\nimport Loading from \"components/Loading\";\r\nimport getImgUser from \"components/services/getImgUser\";\r\nimport commentPost from \"components/services/commentPost\";\r\n\r\nexport default function CommentsPost() {\r\n  const postId = useLocation().pathname.substr(10);\r\n\r\n  const [data, setData] = useState('loading');\r\n\r\n  const {profile} = useContext(PostsContext);\r\n\r\n  const addComment = async (comment) => {\r\n    await commentPost(profile.user, data.id, comment, data.user);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const get_stats_post = async () => {\r\n      let post = await getPost(postId);\r\n      if (post !== null) {\r\n        const u = await getImgUser(post.user);\r\n        if (u != null) {\r\n          post.picture_user = u;\r\n          post.verify = false;\r\n        }\r\n        setData(post);\r\n      }\r\n    }\r\n    \r\n    if(data === 'loading')\r\n      get_stats_post();\r\n  }, [postId, data]);\r\n\r\n\r\n  const [commentsUser, setCommentsUser] = useState([]);\r\n  const handleChangeCommentsUser = (c) => {\r\n    addComment(c);\r\n    setCommentsUser([...commentsUser, c]);\r\n  };\r\n\r\n  if(data === 'loading') return <Loading />\r\n  if (data === null) return <NoPage />;\r\n  return (\r\n    <div className=\"content-comments-user\">\r\n      <CommentsUser\r\n        user={data.user}\r\n        comment={data.desc}\r\n        time={data.time}\r\n      />\r\n      {data.comments &&\r\n        data.comments.map((c, i) => {\r\n            return (\r\n              <CommentsUser\r\n                key={i}\r\n                user={c.user}\r\n                comment={c.comment}\r\n                time={c.time.toDate()}\r\n              />\r\n            );\r\n        })}\r\n        {commentsUser &&\r\n        commentsUser.map((c, i) => {\r\n            return (\r\n              <CommentsUser\r\n                key={i}\r\n                user={profile.user}\r\n                comment={c}\r\n                time={new Date()}\r\n              />\r\n            );\r\n        })}\r\n      <div className=\"cont-comment-user\"><Comment send={handleChangeCommentsUser} focus /></div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport Notification from \"components/Notification\";\r\nimport getNotif from \"components/services/getNotif\";\r\nimport Loading from \"components/Loading\";\r\nimport NotifContext from \"components/Context/AppContext\";\r\nimport getImgPost from \"components/services/getImgPost\";\r\n\r\nexport default function MobileNotif() {\r\n  const [notif, setNotif] = useState(\"loading\");\r\n\r\n  const { notifs, profile } = useContext(NotifContext);\r\n\r\n  useEffect(() => {\r\n    const get_notifs = async () => {\r\n      const _notifs = await getNotif(profile.user);\r\n      if(_notifs){\r\n        await asyncForEach(_notifs.notifs, async (n) => {\r\n          if (n.type === \"like\" || n.type === \"comment\") {\r\n            n.img = await getImgPost(n.post);\r\n          }\r\n        });\r\n      }\r\n      setNotif(_notifs);\r\n    };\r\n\r\n    async function asyncForEach(array, callback) {\r\n      for (let index = 0; index < array.length; index++) {\r\n        await callback(array[index], index, array);\r\n      }\r\n    }\r\n\r\n    if (notif === \"loading\") get_notifs();\r\n  }, [notif, notifs, profile.user]);\r\n\r\n  if (notif === \"loading\") return <Loading />;\r\n  return (\r\n    <div className=\"content-notifications-mobile\">\r\n      {notif &&\r\n        notif.notifs.map((n, i) => {\r\n          return (\r\n            <Notification\r\n              key={i}\r\n              type={n.type}\r\n              time={n.time.toDate()}\r\n              post={n.post}\r\n              comment={n.comment}\r\n              img={n.img}\r\n              user={n.user_send}\r\n            />\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react';\r\nimport UsersContext from 'components/Context/AppContext';\r\nimport './css.css';\r\nimport { useLocation } from 'react-router-dom';\r\nimport getUser from 'components/services/getUser';\r\nimport Notification from 'components/Notification';\r\nimport getPost from 'components/services/getPost';\r\n\r\nexport default function ViewFollows(props) {\r\n\r\n    const {posts} = useContext(UsersContext);\r\n\r\n    const [followers, setFollowers] = useState('loading');\r\n\r\n    const path = useLocation().pathname;\r\n\r\n    var userPath = path;\r\n\r\n    if(props.follows)\r\n        userPath = path.substr(9);\r\n    else if(props.followers)\r\n        userPath = path.substr(11);\r\n    else \r\n        userPath = path.substr(7) //likes post\r\n    \r\n\r\n    useEffect(() => {\r\n        const get_user_follows = async () => {\r\n            const user = await getUser(userPath);\r\n                if(props.follows)\r\n                    return user.follows;\r\n                else\r\n                    return user.followers;\r\n        }\r\n        \r\n        const get_users = async () => {\r\n            var users_follws = [];\r\n            if(props.likes){\r\n                const post = await getPost(userPath);\r\n                users_follws = post.likes;\r\n            }else\r\n                users_follws = await get_user_follows();\r\n            \r\n            var arr_followers = [];\r\n            for(var u of users_follws){\r\n                arr_followers.push(u);\r\n            };\r\n            setFollowers(arr_followers);\r\n        }\r\n\r\n        if(followers === 'loading')\r\n            get_users();\r\n\r\n    }, [followers, userPath, setFollowers, props, posts])\r\n    return(\r\n    <div className=\"content-viewfollows\">\r\n        <h5 className=\"title-viewfollows\">\r\n            {props.follows && \"Seguidos\"}\r\n            {props.followers && \"Seguidores\"}\r\n            {props.likes && \"Me gusta\"}\r\n        </h5>\r\n        {followers && Array.isArray(followers) \r\n        && followers.map((f, i) => (\r\n            <Notification  \r\n                key={i}\r\n                type=\"name\"\r\n                user={f}\r\n            />)\r\n        )}\r\n    </div>)\r\n}\r\n","import React, {useState, useEffect} from \"react\";\r\n\r\nimport account from \"img/account.svg\";\r\nimport ReactTimeAgo from \"react-time-ago\";\r\n\r\nimport \"./css.css\";\r\nimport Loading from \"components/Loading\";\r\nimport getImgUser from \"components/services/getImgUser\";\r\n\r\nexport default function Direct(props) {\r\n\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if(!user){\r\n      const get_user = async () => {\r\n        const u = await getImgUser(props.user);\r\n        setUser(u);\r\n      }\r\n      get_user();\r\n    }\r\n  }, [props.user, user, setUser]);\r\n\r\n  if(!user) return <Loading />\r\n\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        props.onClick({\r\n            user: props.user,\r\n            verify: user.verify,\r\n            picture: user\r\n        });\r\n      }}\r\n      className={props.read ? \"content-direct\" : \"content-direct unread\"}\r\n    >\r\n      <div to={\"/\" + props.user} className=\"content-img-username\">\r\n        {user ? (\r\n          <img\r\n            className=\"img-account\"\r\n            src={user}\r\n            alt=\"profile_picture\"\r\n          />\r\n        ) : (\r\n          <img className=\"default-img\" src={account} alt=\"profile_picture\" />\r\n        )}\r\n      </div>\r\n      <div className=\"direct-message-time\">\r\n        <div className=\"direct-user\">\r\n          <p>{props.user}</p>\r\n          {\" \"}\r\n        </div>\r\n        <p className=\"direct-message\">\r\n          {props.message.length > 30\r\n          ? props.message.substring(0, 30) + \"...\"\r\n          : props.message} •\r\n          <span className=\"time-notif\">\r\n            {\" \"}\r\n            {props.time && (\r\n              <ReactTimeAgo\r\n                date={new Date(props.time)}\r\n                timeStyle=\"twitter\"\r\n                locale=\"es\"\r\n              />\r\n            )}\r\n          </span>\r\n        </p>\r\n      </div>\r\n      <div className={props.read ? \"invisible\" : \"direct-unread\"}></div>\r\n    </div>\r\n  );\r\n}\r\n","export default function sendMessage(user, user_direct, message, directs, setDirectsContext){\r\n    const arr_directs = directs;\r\n    for(var u of arr_directs){\r\n        if(u.user === user){\r\n            for(var d of u.directs){\r\n                if(d.user === user_direct){\r\n                    d.messages.push({message, time:new Date(), own:true});\r\n                    d.read = true;\r\n                    setDirectsContext(arr_directs);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport direct from \"img/direct.svg\";\r\nimport \"./css.css\";\r\nimport Comment from \"components/Post/Comment\";\r\nimport verify from \"img/verify.svg\";\r\nimport getChatUser from 'components/services/getChatUser';\r\nimport sendMessage from 'components/services/sendMessage';\r\nimport Loading from \"components/Loading\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nexport default function Chat(props) {\r\n  const [messages, setMessages] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if(props.direct !== null){\r\n      const arr_msg = getChatUser(\"default\", props.direct.user, props.directs);\r\n      if(arr_msg === 'none'){\r\n        props.addChat(\"default\", props.direct.user);\r\n        setMessages([]);\r\n      }\r\n      else\r\n        setMessages(arr_msg);\r\n    }\r\n  }, [messages, props])\r\n\r\n  const handleSendMessage = async message => {\r\n    const chat = sendMessage(\"default\", props.direct.user, message, props.directs, props.setDirects);\r\n    if(chat)\r\n      setMessages(null);\r\n}\r\n\r\n\r\n  if (props.direct === null) {\r\n    return (\r\n      <div className=\"content-chat pc\">\r\n        <div className=\"content-default\">\r\n          <div className=\"content-chat-default\">\r\n            <div className=\"content-chat-logo-default\">\r\n              <img className=\"chat-logo-default\" src={direct} alt=\"Direct\" />\r\n            </div>\r\n            <p className=\"chat-title-default\">Tus mensajes</p>\r\n            <p className=\"chat-desc-default\">\r\n              Envía fotos y mensajes privados a un amigo o grupo.\r\n            </p>\r\n            <button onClick={() => {props.setNewChat(true)}} className=\"button follow\">Enviar mensaje</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"content-chat\">\r\n      <header className=\"content-header-chat\">\r\n        <div\r\n          className=\"chat-back mobile\"\r\n          onClick={() => {\r\n            setMessages(null);\r\n            props.back(null);\r\n          }}\r\n        ></div>\r\n        <Link className=\"content-header-chat\" to={\"/\" + props.direct.user}>\r\n          <img\r\n            className=\"chat-user-img\"\r\n            src={props.direct.picture}\r\n            alt=\"user-img\"\r\n          />\r\n          <p className=\"chat-user-name\">{props.direct.user}</p>\r\n          {props.direct.verify && (\r\n              <img className=\"verify\" src={verify} alt=\"Verificado\" />\r\n            )}\r\n        </Link>\r\n      </header>\r\n      <div className=\"chat-content-messages\">\r\n        {messages && messages.map((m,i) => (\r\n          m.own \r\n          ?<div key={i} className=\"content-chat-message own\">\r\n            <div className=\"chat-message own\">{m.message}</div>\r\n          </div>\r\n          :<div key={i} className=\"content-chat-message\">\r\n          <Link to={\"/\" + props.direct.user}>\r\n            <img\r\n              className=\"chat-user-img\"\r\n              src={props.direct.picture}\r\n              alt=\"user-img\"\r\n            />\r\n          </Link>\r\n          <div className=\"chat-message\">{m.message}</div>\r\n        </div>\r\n        ))}\r\n      </div>\r\n      {\r\n        messages === null && \r\n        <Loading />\r\n      }\r\n      <div className=\"chat-content-comment\">\r\n        <Comment send={handleSendMessage} message />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function getChatUser(user, user_follow, directs){\r\n    for(var u of directs){\r\n        if(u.user === user){\r\n            for(var d of u.directs){\r\n                if(d.user === user_follow){\r\n                    return d.messages;\r\n                }\r\n            }\r\n            return 'none';\r\n        }\r\n    }\r\n    return null;\r\n}","import React from \"react\";\r\nimport verify from \"img/verify.svg\";\r\nimport account from \"img/account.svg\";\r\n\r\nimport \"./css.css\";\r\nimport deleteImgUserStorage from \"components/services/deleteImgUserStorage\";\r\n\r\nexport default function User(props) {\r\n\r\n  var select = false;\r\n  if(props.select !== null){\r\n    if(props.select.user === props.user)\r\n      select = true;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        props.onClick({user: props.user, picture:props.picture, verify:props.verify});\r\n      }}\r\n      className=\"content-new-direct-user\"\r\n    >\r\n      <div className=\"content-img-username\">\r\n        {props.picture ? (\r\n          <img\r\n            className=\"img-account\"\r\n            src={props.picture}\r\n            alt=\"profile_picture\"\r\n            onError={() => deleteImgUserStorage(props.user)}\r\n          />\r\n        ) : (\r\n          <img className=\"default-img\" src={account} alt=\"profile_picture\" />\r\n        )}\r\n      </div>\r\n      <div className=\"direct-user\">\r\n          <p>{props.user}</p>\r\n          {props.verify && \" \" && (\r\n            <img className=\"verify-directs\" src={verify} alt=\"Verificado\" />\r\n          )}{\" \"}\r\n        </div>\r\n      <div className={select ? \"new-direct-select true\" : \"new-direct-select\"}>\r\n          {select &&\r\n            <div id=\"tick-mark\"></div>\r\n          }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react';\r\n\r\nimport './css.css';\r\nimport getUser from 'components/services/getUser';\r\nimport userContext from 'components/Context/AppContext';\r\nimport User from './User';\r\nimport getImgUser from 'components/services/getImgUser';\r\n\r\nexport default function New(props) {\r\n\r\n    const {users} = useContext(userContext);\r\n\r\n    const [follows, setFollows] = useState(null);\r\n\r\n    const [select, setSelect] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if(follows === null){\r\n            const user = getUser(props.user, users);\r\n            if(user !== null){\r\n                setFollows(user.follows);\r\n            }\r\n        }\r\n    }, [follows, props,users])\r\n\r\n    const handleSelect = () => {\r\n        if(select !== null){\r\n            props.setViewDirect(select);\r\n            props.setNewChat(false);\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className=\"content-new-chat\">\r\n        <header className=\"content-directs-header\">\r\n          <div onClick={() => props.setNewChat(false)} className=\"chat-back\"></div>\r\n          <h5>Nuevo mensaje</h5>\r\n          <button onClick={handleSelect} className=\"action-comment\">Siguiente</button>\r\n        </header>\r\n        {follows && follows.map((u,i) => {\r\n            const user = getImgUser(u);\r\n            return(\r\n            <User \r\n                key={i}\r\n                user={u}\r\n                picture={user}\r\n                verify={false}\r\n                onClick={setSelect}\r\n                select={select}\r\n            />)\r\n        })}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport getDirects from \"components/services/getDirects\";\r\nimport Loading from \"components/Loading\";\r\nimport NoPage from \"components/NoPage\";\r\nimport Direct from \"./Direct\";\r\nimport newMessage from \"./newmessage.svg\";\r\nimport Chat from \"./Chat\";\r\nimport { Link } from \"react-router-dom\";\r\nimport New from \"./New\";\r\n\r\nimport \"./css.css\";\r\n\r\nimport Context from \"components/Context/AppContext\";\r\nimport setDirectsRead from \"components/services/setDirectsUnread\";\r\nimport addDirectChat from \"components/services/addDirectChat\";\r\n\r\nexport default function Directs() {\r\n  const [data, setData] = useState(\"loading\");\r\n\r\n  const [viewDirect, setViewDirect] = useState(null);\r\n\r\n  const [newChat, setNewChat] = useState(false);\r\n\r\n  const { directs, setDirects } = useContext(Context);\r\n\r\n  const handleSetViewDirect = (user) => {\r\n    if (user === null) setViewDirect(null);\r\n    else {\r\n      setViewDirect(user);\r\n      setDirectsRead(\"default\", user.user, directs, setDirects);\r\n    }\r\n  };\r\n\r\n  const handleAddChat = (user, user_follow) => {\r\n      addDirectChat(user, user_follow, directs, setDirects);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (data === \"loading\") {\r\n      const directs_ = getDirects(\"default\", directs);\r\n      setData(directs_.directs);\r\n    }\r\n  }, [data, directs]);\r\n\r\n  if (data === \"loading\") return <Loading />;\r\n\r\n  if (data === null) return <NoPage />;\r\n\r\n  if (newChat)\r\n    return (\r\n      <div className=\"content-directs\">\r\n        <New user=\"default\" setNewChat={setNewChat} setViewDirect={handleSetViewDirect} />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"content-directs\">\r\n      <div\r\n        className={\r\n          viewDirect === null\r\n            ? \"content-list-directs\"\r\n            : \"content-list-directs viewdirect\"\r\n        }\r\n      >\r\n        <header className=\"content-directs-header\">\r\n          <Link to=\"/\" className=\"chat-back\"></Link>\r\n          <h5>Direct</h5>\r\n          <img\r\n            onClick={() => {\r\n              setNewChat(true);\r\n            }}\r\n            className=\"icon\"\r\n            src={newMessage}\r\n            alt=\"nuevo mensaje\"\r\n          />\r\n        </header>\r\n        <div className=\"content-directs-messages\">\r\n          {data &&\r\n            data.map((d, i) => {\r\n                return (\r\n                  <Direct\r\n                    key={i}\r\n                    user={d.user}\r\n                    message={d.messages[d.messages.length - 1].message}\r\n                    time={d.messages[d.messages.length - 1].time}\r\n                    read={d.read}\r\n                    onClick={handleSetViewDirect}\r\n                  />\r\n                );\r\n            })}\r\n        </div>\r\n      </div>\r\n      <Chat\r\n        direct={viewDirect}\r\n        back={handleSetViewDirect}\r\n        directs={directs}\r\n        setDirects={setDirects}\r\n        setNewChat={setNewChat}\r\n        addChat={handleAddChat}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","/* import directs from 'components/directs.json' */\r\n\r\nexport default function setDirectsRead(user, user_direct, directs, setDirectsContext){\r\n    const arr_directs = directs;\r\n    for(var u of arr_directs){\r\n        if(u.user === user){\r\n            for(var d of u.directs){\r\n                if(d.user === user_direct){\r\n                    d.read = true;\r\n                    setDirectsContext(arr_directs);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}","/* import directs from 'components/directs.json' */\r\n\r\nexport default function getDirects(user, directs){\r\n    for(var u of directs){\r\n        if(u.user === user)\r\n            return u;\r\n    }\r\n    return null;\r\n}","export default function addDirectChat(user, user_direct, directs, setDirectsContext){\r\n    const arr_directs = directs;\r\n    for(var u of arr_directs){\r\n        if(u.user === user){\r\n            u.directs.push({\r\n                \"user\":user_direct,\r\n                \"read\":true,\r\n                \"messages\":[]\r\n            })\r\n            setDirectsContext(arr_directs);\r\n            console.log(arr_directs);\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}","import firebase from 'firebase';\r\nimport 'firebase/storage';\r\n\r\nexport default async function uploadImg(url, img) {\r\n    const storage = firebase.storage().ref().child(url);\r\n    let return_result = null;\r\n    await storage.put(img)\r\n    .then(() => {\r\n        return_result = true;\r\n    })\r\n    .catch(function(error) {\r\n        console.log(\"No se pudo subir la imagen de perfil\");\r\n        console.log(error);\r\n        return_result = null;\r\n    });\r\n    return return_result;\r\n}","import firebase from 'firebase';\r\nimport 'firebase/firestore';\r\nimport uploadImg from './uploadImg'; \r\n\r\nexport default async function newPost(user, verify, img, desc) {\r\n    if(!user || !img) return null;\r\n    let result = null;\r\n    const db = firebase.firestore();\r\n    await db.collection('posts').add({\r\n        user,\r\n        desc,\r\n        verify,\r\n        \"likes\": [],\r\n        \"time\": firebase.firestore.Timestamp.fromDate(new Date()),\r\n        \"comments\": []\r\n    }).then(async (e) => {\r\n        result = await uploadImgs(e.id, img);\r\n        if(result){\r\n            await db.collection('users').doc(user)\r\n            .update({\r\n                posts: firebase.firestore.FieldValue.arrayUnion(e.id)\r\n            });\r\n        }\r\n    })\r\n    .catch((e) => { \r\n        result = false;\r\n        console.log(e)\r\n    });\r\n   \r\n    return result;\r\n}\r\n\r\nconst uploadImgs = async (id, imgs) => {\r\n    let result = false;\r\n    let i = 0;\r\n    await asyncForEach(imgs, async (img) => {\r\n        await uploadImg('posts/'+id+'/'+i, img);\r\n        i++;\r\n        result = true;\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\nasync function asyncForEach(array, callback) {\r\n    for (let index = 0; index < array.length; index++) {\r\n      await callback(array[index], index, array);\r\n    }\r\n  }","import React, { useState, useContext } from \"react\";\r\nimport Context from 'components/Context/AppContext';\r\n\r\nimport \"./css.css\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport newPost from \"components/services/newPost\";\r\nimport Loading from \"components/Loading\";\r\n\r\nexport default function AddPost(props) {\r\n  const [page, setPage] = useState(0);\r\n  const [desc, setDesc] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleBack = () => {\r\n    if (page === 0) props.setImg(null);\r\n    else setPage(0);\r\n  };\r\n\r\n  const {profile} = useContext(Context);\r\n\r\n  const handleSig = async () => {\r\n    if (page === 0) setPage(1);\r\n    else{\r\n        setLoading(true);\r\n        await newPost(profile.user, profile.verify, props.img, desc);\r\n        setLoading(false);\r\n        props.setImg(null);\r\n    }\r\n  };\r\n\r\n\r\n  if(loading) return <Loading allpage />\r\n\r\n  return (\r\n    <div className=\"content-add-post\">\r\n      <header className=\"content-header-add-post\">\r\n        <div className=\"chat-back\" onClick={handleBack}></div>\r\n        <h5>Nueva publicación</h5>\r\n        <button onClick={handleSig} className=\"action-comment\">\r\n          {page === 0 ? \"Siguiente\" : \"Compartir\"}\r\n        </button>\r\n      </header>\r\n      {page === 0 ? (\r\n          <Carousel showIndicators={props.img && props.img.length > 1} emulateTouch={true} swipeable={true} showThumbs={false} showStatus={false}>\r\n              {props.img && props.img.map((img, i) => (\r\n                  <div key={i} className=\"content-img\">\r\n                  <img\r\n                    className=\"img-post\"\r\n                    src={URL.createObjectURL(img)}\r\n                    alt=\"Imagen de la publicación\"\r\n                  />\r\n              </div>\r\n              ))}\r\n          </Carousel>\r\n      ) : (\r\n        <div className=\"content-desc-new-post\">\r\n          <img\r\n            src={profile.picture}\r\n            className=\"img-user-add-post\"\r\n            alt=\"Tu imagen de perfil\"\r\n          />\r\n          <textarea\r\n            className=\"text-add-post\"\r\n            placeholder=\"Escribe un pie de foto...\"\r\n            onChange={e => setDesc(e.target.value)}\r\n            value={desc}\r\n          />\r\n          <img\r\n            className=\"img-post-add-post\"\r\n            src={URL.createObjectURL(props.img[0])}\r\n            alt=\"La imagen del post\"\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState} from 'react';\r\nimport firebase from 'firebase/app';\r\nimport pupigram from 'img/pupigram.png';\r\nimport './css.css';\r\nimport Loading from 'components/Loading';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nexport default function LogIn(props) {\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const handleSetLoading = (value) =>{\r\n        setLoading(value);\r\n    }\r\n\r\n    const [data, setData] = useState({user: '', password: ''});\r\n    const handleSetData = (d) =>{\r\n        setData(d);\r\n    }\r\n\r\n    const handleInputChange = (e) => {\r\n        const target = e.target;\r\n        const name = target.name;\r\n        handleSetData({...data, [name]: target.value})\r\n    }\r\n\r\n    \r\n    const handleLogInAnonymus = async (e) =>{\r\n        e.preventDefault();\r\n        handleSetLoading(true);\r\n\r\n        await firebase.auth().signInWithEmailAndPassword('default@gmail.com', 'default')\r\n        .then(r => props.setUser(r.user))\r\n        .catch(e => {\r\n            handleSetLoading(false);\r\n            setError(e);\r\n        }\r\n        );\r\n    }\r\n\r\n    const handleLogIn = async (e) => {\r\n        e.preventDefault();\r\n        handleSetLoading(true);\r\n\r\n        await firebase.auth().signInWithEmailAndPassword(data.user, data.password)\r\n        .then(r => props.setUser(r.user))\r\n        .catch(e => {\r\n            handleSetLoading(false);\r\n            setError(e);\r\n        }\r\n        );\r\n        \r\n    }\r\n\r\n    const handleLogInGoogle = async (e) => {\r\n        e.preventDefault();\r\n        handleSetLoading(true);\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n        await firebase.auth().signInWithPopup(provider)\r\n        .then(r => props.setUser(r.user))\r\n        .catch(e => {\r\n            handleSetLoading(false);\r\n            setError(e);\r\n        }\r\n        );\r\n    }\r\n\r\n    const [error, setError] = useState(null);\r\n\r\n    const getError = () => {\r\n        if(error){\r\n            switch (error.code) {\r\n                case \"auth/user-not-found\":\r\n                    return \"El nombre de usuario que has introducido no pertenece a ninguna cuenta. Comprueba tu nombre de usuario y vuelve a intentarlo.\"\r\n                case \"auth/wrong-password\":\r\n                    return \"Tu contraseña no es correcta. Vuelve a comprobarla.\"\r\n                default:\r\n                    return \"Usuario o contraseña incorrectos.\"\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n    \r\n    if(props.user) return <Redirect to=\"/signup\" />\r\n\r\n    return(\r\n        <div className=\"login-page\">\r\n            <div className=\"form\">\r\n                <form className=\"login-form\" onSubmit={handleLogIn}>\r\n                    <img src={pupigram} alt=\"logo\" className=\"logo-login\" />\r\n                    <input \r\n                    type=\"text\" \r\n                    placeholder=\"E-mail\"\r\n                    name=\"user\"\r\n                    onChange={handleInputChange}\r\n                    value={data.user}\r\n                    />\r\n                    <input \r\n                    type=\"password\" \r\n                    placeholder=\"Contraseña\"\r\n                    name=\"password\"\r\n                    onChange={handleInputChange}\r\n                    value={data.password}\r\n                    />\r\n                    <button className=\"button follow\" onClick={handleLogIn}>{loading ? <Loading /> : \"Iniciar sesión\"}</button>\r\n                    \r\n                    <div className=\"divisor-login\">\r\n                        <hr/>\r\n                        o\r\n                        <hr/>\r\n                    </div>\r\n                    <button className=\"button follow\" onClick={handleLogInAnonymus}>{loading ? <Loading /> : \"Ingresar como anónimo\"}</button>\r\n\r\n                    <button onClick={handleLogInGoogle} className=\"button follow\">Iniciar sesión con Google</button>\r\n                    {error && \r\n                    <p className=\"error\">{getError()}</p>}\r\n                    <p className=\"forget-password\">¿Has olvidado la contraseña?</p>\r\n                </form>\r\n            </div>\r\n            <div className=\"w100\">\r\n                <div className=\"form login-no-account\">\r\n                    <p className=\"no-account\">¿No tienes una cuenta? <Link to=\"/signup\">Regístrate</Link></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import firebase from 'firebase';\r\nimport 'firebase/firestore';\r\n\r\nexport default async function getUserMail(mail) {\r\n    const db = firebase.firestore();\r\n    let email = mail;\r\n    if(!mail)\r\n        email = \"default@gmail.com\";\r\n    var result = null;\r\n    await db.collection('users').where(\"email\", \"==\", email)\r\n    .get()\r\n    .then(function(querySnapshot) {\r\n        querySnapshot.forEach(function(doc) {\r\n            result = {user: doc.id, data:doc.data()};\r\n        });\r\n    })\r\n    .catch(function(error) {\r\n        console.log(error);\r\n        result = error;\r\n    });\r\n\r\n    return result;\r\n}","import firebase from 'firebase';\r\nimport 'firebase/firestore';\r\nimport default_img from 'img/default.jpg';\r\nimport uploadImg from './uploadImg';\r\n\r\nexport default async function createUser(user, email, name, picture) {\r\n    let result = null;\r\n    let photo = picture;\r\n    if(!photo || photo === \"\")\r\n        photo = default_img;\r\n        \r\n    await fetch(photo)\r\n    .then(res => res.blob()) // Gets the response and returns it as a blob\r\n    .then(async blob => {\r\n    const img_profile = await uploadImg('users/'+user, blob);\r\n    if(img_profile){\r\n        result = await createProfileUser(user, name, email);\r\n    }\r\n    else\r\n        result = false;\r\n    });\r\n   \r\n    return result;\r\n}\r\n\r\nconst createProfileUser = async (user, name, email) => {\r\n    const db = firebase.firestore();\r\n    let result = false;\r\n    await db.collection('users').doc(user)\r\n        .set({\r\n            name,\r\n            email,\r\n            verify:false,\r\n            web: \"\",\r\n            posts: [],\r\n            followers: [],\r\n            follows: [],\r\n            desc: \"Usuario pupigram\",\r\n        })\r\n        .then(async () => {\r\n            result = await createNotifsUser(user);\r\n        })\r\n        .catch((e) => {\r\n            result = false;\r\n            console.log(\"Error getting documents: \", e);\r\n    });\r\n    return result;\r\n}\r\n\r\nconst createNotifsUser = async user => {\r\n    const db = firebase.firestore();\r\n    let result = false;\r\n    await db.collection('notif').doc(user)\r\n        .set({\r\n            notifs: [],\r\n            visualized: true\r\n        })\r\n        .then(() => {\r\n            result = true\r\n        })\r\n        .catch((e) => {\r\n            result = false;\r\n            console.log(\"Error getting documents: \", e);\r\n    });\r\n    return result;\r\n}","import React, { useState } from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport pupigram from \"img/pupigram.png\";\r\nimport \"./css.css\";\r\nimport Loading from \"components/Loading\";\r\nimport { Link } from \"react-router-dom\";\r\nimport createUser from \"components/services/newUser\";\r\nimport getUser from \"components/services/getUser\";\r\n\r\nexport default function SignUp(props) {\r\n  const [loading, setLoading] = useState(false);\r\n  const handleSetLoading = (value) => {\r\n    setLoading(value);\r\n  };\r\n\r\n  const [data, setData] = useState({\r\n    email: props.user ? props.user.email : \"\",\r\n    name: props.user && props.user.displayName ? props.user.displayName : \"\",\r\n    user: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleSetData = (d) => {\r\n    setData(d);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const target = e.target;\r\n    const name = target.name;\r\n    if(name === \"user\")\r\n    {\r\n        let max_length = target.value.slice(0, 20);\r\n        let remove_spaces = max_length.replace(/\\s/g, '');\r\n        let remove_symbols = remove_spaces.replace(/[^a-zA-Z0-9_]/g, '');\r\n        handleSetData({...data, [name]: remove_symbols.toLowerCase()})\r\n    }\r\n    else\r\n    handleSetData({ ...data, [name]: target.value });\r\n  };\r\n  \r\n\r\n  const handleOnClick = async (e) => {\r\n    e.preventDefault();\r\n    handleSetLoading(true);\r\n    if(await getUser(data.user)){\r\n      setError({message: \"El nombre de usuario '\" + data.user + \"' ya está en uso.\"})\r\n      handleSetLoading(false);\r\n      return;\r\n    }\r\n    if (props.user) {\r\n      const create = await createUser(\r\n        data.user,\r\n        data.email,\r\n        data.name,\r\n        props.user.photoURL\r\n      );\r\n      if (create) {\r\n        props.setProfile(null);\r\n      } else {\r\n        setError({ message: \"Se ha producido un error al registrarse.\" });\r\n        handleSetLoading(false);\r\n      }\r\n    } else {\r\n      await firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(data.email, data.password)\r\n        .then(async (r) => {\r\n          const create = await createUser(data.user, data.email, data.name, \"\");\r\n          if (create) {\r\n            props.setUser(r.user);\r\n            handleSetLoading(false);\r\n          } else {\r\n            setError({ message: \"Se ha producido un error al registrarse.\" });\r\n            handleSetLoading(false);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          handleSetLoading(false);\r\n          setError(e);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleOnClickGoogle = async (e) => {\r\n    e.preventDefault();\r\n    handleSetLoading(true);\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n    await firebase\r\n      .auth()\r\n      .signInWithPopup(provider)\r\n      .then((r) => props.setUser(r.user))\r\n      .catch((e) => {\r\n        handleSetLoading(false);\r\n        setError(e);\r\n      });\r\n  };\r\n\r\n  const [error, setError] = useState(null);\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <div className=\"form\">\r\n        <form className=\"login-form\" onSubmit={handleOnClick}>\r\n          <img src={pupigram} alt=\"logo\" className=\"logo-login\" />\r\n          <h4 className=\"text-register\">\r\n            Regístrate para ver fotos y videos de tus amigos.\r\n          </h4>\r\n          {props.user ? (\r\n            <div className=\"profile-register\">\r\n              {props.user.photoURL && (\r\n                <img\r\n                  className=\"img-user\"\r\n                  src={props.user.photoURL}\r\n                  alt=\"tu-foto\"\r\n                />\r\n              )}\r\n              <button\r\n                className=\"button follow\"\r\n                onClick={() => props.setUser(null)}\r\n              >\r\n                No registrarme con {data.email}\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <button onClick={handleOnClickGoogle} className=\"button follow\">\r\n              Iniciar sesión con Google\r\n            </button>\r\n          )}\r\n          <div className=\"divisor-login\">\r\n            <hr />\r\n            o\r\n            <hr />\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Correo electrónico\"\r\n            name=\"email\"\r\n            onChange={handleInputChange}\r\n            value={data.email}\r\n            disabled={props.user}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Nombre completo\"\r\n            name=\"name\"\r\n            onChange={handleInputChange}\r\n            value={data.name}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Nombre de usuario\"\r\n            name=\"user\"\r\n            onChange={handleInputChange}\r\n            value={data.user}\r\n          />\r\n          {!props.user && (\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Contraseña\"\r\n              name=\"password\"\r\n              onChange={handleInputChange}\r\n              value={data.password}\r\n            />\r\n          )}\r\n          <button className=\"button follow\" onClick={handleOnClick}>\r\n            {loading ? <Loading /> : \"Registrarte\"}\r\n          </button>\r\n          {error && <p className=\"error\">{error.message}</p>}\r\n          <p className=\"conditions\">\r\n            Al registrarte, aceptas nuestras Condiciones, la Política de datos y\r\n            la Política de cookies.\r\n          </p>\r\n        </form>\r\n      </div>\r\n      <div className=\"w100\">\r\n        <div className=\"form login-no-account\">\r\n          <p className=\"no-account\">\r\n            ¿Tienes una cuenta? <Link to=\"/login\">Entrar</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\nimport uploadImg from './uploadImg'; \r\n\r\nexport default async function editProfile(user, name, web, desc, img = null) {\r\n  const db = firebase.firestore();\r\n  let result = true;\r\n  if (img) {\r\n    result = await uploadImg(\"users/\" + user, img);\r\n  }\r\n  if (result) {\r\n    await db\r\n      .collection(\"users\")\r\n      .doc(user)\r\n      .set(\r\n        {\r\n          name,\r\n          web,\r\n          desc,\r\n        },\r\n        { merge: true }\r\n      )\r\n      .then(() => {\r\n        result = true;\r\n      })\r\n      .catch((e) => {\r\n        result = false;\r\n        console.log(\"Error getting documents: \", e);\r\n      });\r\n  }\r\n  return result;\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport \"./css.css\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport Profile from \"components/Context/AppContext\";\r\nimport editProfile from \"components/services/editProfile\";\r\nimport Loading from \"components/Loading\";\r\n\r\nimport {\r\n  NotificationContainer,\r\n  NotificationManager,\r\n} from \"react-notifications\";\r\n\r\nexport default function EditProfile() {\r\n  const { profile, setProfile } = useContext(Profile);\r\n\r\n  const [data, setData] = useState(profile);\r\n\r\n  const handleInputChange = (e) => {\r\n    if (profile.user !== \"default\") {\r\n      const target = e.target;\r\n      const name = target.name;\r\n      setData({ ...data, [name]: target.value });\r\n    }\r\n  };\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const handleChange = async () => {\r\n    setLoading(true);\r\n    if (await editProfile(profile.user, data.name, data.web, data.desc, img)) {\r\n      NotificationManager.success(\"Usuario editado con éxito\", \"Editado\", 5000);\r\n      setProfile(data);\r\n      setImg(null);\r\n    } else\r\n      NotificationManager.error(\r\n        \"No se ha podido editar el usuario, vuelva a intentarlo más tarde.\",\r\n        \"Error\",\r\n        5000\r\n      );\r\n    setLoading(false);\r\n  };\r\n\r\n  const [img, setImg] = useState(null);\r\n\r\n  const handleChangeImage = (e) => {\r\n    const url_img = URL.createObjectURL(e.target.files[0]);\r\n    setImg(e.target.files[0]);\r\n    setData({ ...data, picture: url_img });\r\n  };\r\n\r\n  return (\r\n    <div className=\"content-edit-profile\">\r\n      <div className=\"content-indicators-inputs\">\r\n        <div className=\"content-indicator-input\">\r\n          <p className=\"indicator\">Nombre de usuario</p>\r\n          <input\r\n            type=\"text\"\r\n            className=\"input-edit disabled\"\r\n            value={profile.user}\r\n            disabled\r\n          />\r\n        </div>\r\n        <div className=\"content-indicator-input\">\r\n          <p className=\"indicator\">Foto de perfil</p>\r\n          <img src={data.picture} alt=\"pic-profile\" className=\"perfil-img\" />\r\n          <div>\r\n            <label htmlFor=\"upload-profile\" className=\"button follow\">\r\n              Editar foto de perfil\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"upload-profile\"\r\n              className=\"invisible\"\r\n              accept=\"image/x-png,image/gif,image/jpeg\"\r\n              onChange={handleChangeImage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"content-indicator-input\">\r\n          <p className=\"indicator\">Nombre</p>\r\n          <input\r\n            type=\"text\"\r\n            className=\"input-edit\"\r\n            value={data.name}\r\n            name=\"name\"\r\n            onChange={handleInputChange}\r\n          ></input>\r\n        </div>\r\n        <div className=\"content-indicator-input\">\r\n          <p className=\"indicator\">Biografía</p>\r\n          <input\r\n            type=\"text\"\r\n            className=\"input-edit\"\r\n            name=\"desc\"\r\n            value={data.desc}\r\n            onChange={handleInputChange}\r\n          ></input>\r\n        </div>\r\n        <div className=\"content-indicator-input\">\r\n          <p className=\"indicator\">Sitio web</p>\r\n          <input\r\n            type=\"text\"\r\n            className=\"input-edit\"\r\n            name=\"web\"\r\n            value={data.web}\r\n            onChange={handleInputChange}\r\n          ></input>\r\n        </div>\r\n      </div>\r\n      {profile.user === \"default\" ? (\r\n        <div className=\"no-edit-default\">\r\n          <div>\r\n            <p>\r\n              El usuario por default no se puede editar, ingresa en otra cuenta\r\n              para poder editar.\r\n            </p>\r\n          </div>\r\n          <Link to={\"/\" + profile.user}>\r\n            <button className=\"button unfollow\">Volver</button>\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"content-buttons-edit\">\r\n          <button onClick={() => handleChange()} className=\"button follow\">\r\n            {loading ? <Loading /> : \"Guardar\"}\r\n          </button>\r\n          <Link to={\"/\" + profile.user}>\r\n            <button className=\"button unfollow\">Volver</button>\r\n          </Link>\r\n        </div>\r\n      )}\r\n      <NotificationContainer />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport List from \"./components/List\";\r\nimport User from \"./components/User\";\r\nimport PostId from \"./components/PostId\";\r\nimport { HashRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport JavascriptTimeAgo from \"javascript-time-ago\";\r\nimport es from \"javascript-time-ago/locale/es\";\r\nimport NoPage from \"./components/NoPage\";\r\nimport CommentsPost from \"./components/CommentsPost\";\r\nimport MobileNotif from \"./components/MobileNotif\";\r\nimport ViewFollows from \"components/ViewFollows\";\r\nimport Directs from \"components/Directs/index\";\r\nimport AddPost from \"components/AddPost\";\r\nimport Login from \"components/Login\";\r\nimport { useUser } from \"reactfire\";\r\nimport firebase from \"firebase/app\";\r\nimport getUserMail from \"components/services/getUserMail\";\r\nimport SignUp from \"components/SignUp\";\r\nimport Loading from \"components/Loading\";\r\nimport Context from 'components/Context/AppContext';\r\nimport getImgUser from \"components/services/getImgUser\";\r\nimport EditProfile from \"components/EditProfile\";\r\n/*  import syncronicUsers from \"components/services/syncronicUsers\";  */\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\nJavascriptTimeAgo.locale(es);\r\n\r\nfunction App() {\r\n  const [mode, setMode] = useState(\r\n    (window.matchMedia &&\r\n      window.matchMedia(\"(prefers-color-scheme: dark)\").matches) ||\r\n      false\r\n  );\r\n  const handleChangeMode = () => setMode(!mode);\r\n\r\n  \r\n  const {profile, setProfile} = useContext(Context);\r\n\r\n  /*  syncronicUsers();  */\r\n\r\n\r\n  const [newPost, setNewPost] = useState(null);\r\n  const handleSetImgNewPost = (img) => setNewPost(img);\r\n\r\n  const [user, setUser] = useState(useUser());\r\n\r\n  const handleSetUser = (u) => {\r\n    setProfile(null);\r\n    setUser(u);\r\n  }\r\n\r\n\r\n  const handleLogoutUser = () => {\r\n    firebase.auth().signOut();\r\n    setUser(null);\r\n    setProfile(null);\r\n  };\r\n\r\n  const getAccount = async () => {\r\n    setLoading(true);\r\n    const account = await getUserMail(user.email);\r\n    if (!account) {\r\n      setLoading(false);\r\n      setProfile(\"none\");\r\n    } else {\r\n      const img = await getImgUser(account.user);\r\n      setProfile({\r\n        ...account.data,\r\n        user: account.user,\r\n        picture: img\r\n      });\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  if (loading) return <Loading allpage dark={mode} />;\r\n  if (!user || !profile || profile === \"none\") {\r\n     if (user && !profile) getAccount();  \r\n    return (\r\n        <HashRouter basename=\"/\">\r\n          <Switch>\r\n            <Route exact path=\"/login\">\r\n              <Login user={user} setUser={handleSetUser} setProfile={setProfile} />\r\n            </Route>\r\n            <Route exact path=\"/signup\">\r\n              <SignUp user={user} setUser={handleSetUser} setProfile={setProfile} />\r\n            </Route>\r\n            <Redirect to=\"/login\" />\r\n          </Switch>\r\n        </HashRouter>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={mode ? \"dark\" : \"light\"}>\r\n        <HashRouter basename=\"/\">\r\n          {newPost !== null ? (\r\n            <div className=\"content-app\">\r\n              <div className=\"app\">\r\n                <AddPost setImg={handleSetImgNewPost} img={newPost} />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <React.Fragment>\r\n              <NavBar\r\n                setImg={handleSetImgNewPost}\r\n                setMode={handleChangeMode}\r\n              />\r\n              <div className=\"content-app\">\r\n                <div className=\"app\">\r\n                  <Switch>\r\n                    <Route exact path=\"/addPost\" component={AddPost} />\r\n                    <Route\r\n                      exact\r\n                      path=\"/notifications\"\r\n                      component={MobileNotif}\r\n                    />\r\n                    <Route\r\n                      exact\r\n                      path=\"/comments/:id\"\r\n                      component={CommentsPost}\r\n                    />\r\n                    <Route exact path=\"/search\">\r\n                      <NoPage construction />\r\n                    </Route>\r\n                    <Route exact path=\"/explore\">\r\n                      <NoPage construction />\r\n                    </Route>\r\n                    <Route exact path=\"/directs\">\r\n                      <Directs />\r\n                    </Route>\r\n                    <Route exact path=\"/likes/:id\">\r\n                      <ViewFollows likes />\r\n                    </Route>\r\n                    <Route exact path=\"/posts/:id\" component={PostId} />\r\n                    <Route exact path=\"/follows/:user\">\r\n                      <ViewFollows follows />\r\n                    </Route>\r\n                    <Route exact path=\"/followers/:user\">\r\n                      <ViewFollows followers />\r\n                    </Route>\r\n                    <Route exact path=\"/login\">\r\n                      <Redirect to=\"/\" />\r\n                    </Route>\r\n                    <Route exact path=\"/signup\">\r\n                      <Redirect to=\"/\" />\r\n                    </Route>\r\n                    <Route exact path=\"/account/edit\">\r\n                      <EditProfile />\r\n                    </Route>\r\n                    <Route exact path=\"/:user\">\r\n                      <User handleLogoutUser={handleLogoutUser}/>  \r\n                    </Route>\r\n                    <Route exact path=\"/\" component={List} />\r\n                  </Switch>\r\n                  <p className=\"footer\">\r\n                    © 2020 PUPIGRAM DESARROLLADO POR{\" \"}\r\n                    <a\r\n                      href=\"https://www.linkedin.com/in/pupimarti/\"\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                    >\r\n                      JUAN A. MARTÍ\r\n                    </a>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n        </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { Suspense } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport firebase from \"firebase\";\r\nimport { FirebaseAppProvider } from \"reactfire\";\r\nimport configFb from \"firebase-config\";\r\n\r\nimport { AppContextProvider } from \"components/Context/AppContext\";\r\n\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nimport Loading from \"components/Loading\";\r\nimport newPost from \"components/services/newPost\";\r\n\r\nfirebase.initializeApp(configFb);\r\n\r\nnewPost();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <FirebaseAppProvider firebaseConfig={configFb}>\r\n      <Suspense fallback={<Loading allpage dark={(window.matchMedia &&\r\n      window.matchMedia(\"(prefers-color-scheme: dark)\").matches) || false} />}>\r\n        <AppContextProvider>\r\n          <App />\r\n        </AppContextProvider>\r\n      </Suspense>\r\n    </FirebaseAppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}